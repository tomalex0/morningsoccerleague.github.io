(self.webpackChunkmorningsoccerleague_github_io=self.webpackChunkmorningsoccerleague_github_io||[]).push([[110],{17691:function(c,d,u){u(85827),function(c,d,p,f,m,h,g,b,v,w,k,x,y,F,W,R,B,V,q,j,U,K,G,J,X){"use strict";var Y="default"in d?d.default:d,Z="default"in p?p.default:p,Q="default"in b?b.default:b;W=W&&W.hasOwnProperty("default")?W.default:W;var en=function C(c,d){return(en=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var u in d)d.hasOwnProperty(u)&&(c[u]=d[u])})(c,d)};function M(c,d){function t(){this.constructor=c}en(c,d),c.prototype=null===d?Object.create(d):(t.prototype=d.prototype,new t)}var sn=function $(){return(sn=Object.assign||function(c){for(var d,u=1,p=arguments.length;u<p;u++)for(var f in d=arguments[u])Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f]);return c}).apply(this,arguments)};function _(c,d){var u={};for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&d.indexOf(p)<0&&(u[p]=c[p]);if(null!=c&&"function"==typeof Object.getOwnPropertySymbols){var f=0;for(p=Object.getOwnPropertySymbols(c);f<p.length;f++)d.indexOf(p[f])<0&&Object.prototype.propertyIsEnumerable.call(c,p[f])&&(u[p[f]]=c[p[f]])}return u}function E(c,d,u,p){return new(u=u||Promise)((function(f,m){function t(c){try{o(p.next(c))}catch(c){m(c)}}function r(c){try{o(p.throw(c))}catch(c){m(c)}}function o(c){c.done?f(c.value):new u((function(d){d(c.value)})).then(t,r)}o((p=p.apply(c,d||[])).next())}))}function z(c,d){var u,p,f,m,h={label:0,sent:function sent(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return m={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m;function e(m){return function(g){return function(m){if(u)throw new TypeError("Generator is already executing.");for(;h;)try{if(u=1,p&&(f=2&m[0]?p.return:m[0]?p.throw||((f=p.return)&&f.call(p),0):p.next)&&!(f=f.call(p,m[1])).done)return f;switch(p=0,f&&(m=[2&m[0],f.value]),m[0]){case 0:case 1:f=m;break;case 4:return h.label++,{value:m[1],done:!1};case 5:h.label++,p=m[1],m=[0];continue;case 7:m=h.ops.pop(),h.trys.pop();continue;default:if(!(f=0<(f=h.trys).length&&f[f.length-1])&&(6===m[0]||2===m[0])){h=0;continue}if(3===m[0]&&(!f||m[1]>f[0]&&m[1]<f[3])){h.label=m[1];break}if(6===m[0]&&h.label<f[1]){h.label=f[1],f=m;break}if(f&&h.label<f[2]){h.label=f[2],h.ops.push(m);break}f[2]&&h.ops.pop(),h.trys.pop();continue}m=d.call(c,h)}catch(g){m=[6,g],p=0}finally{u=f=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,g])}}}function S(){for(var c=0,d=0,u=arguments.length;d<u;d++)c+=arguments[d].length;var p=Array(c),f=0;for(d=0;d<u;d++)for(var m=arguments[d],h=0,g=m.length;h<g;h++,f++)p[f]=m[h];return p}function I(c,d){return Object.defineProperty?Object.defineProperty(c,"raw",{value:d}):c.raw=d,c}function N(c){var u=c.children,p=d.useState(!0),f=p[0],m=p[1];return d.useEffect((function(){function n(){return m(!0)}function e(){return m(!1)}return window.addEventListener("focus",n),window.addEventListener("blur",e),function(){window.removeEventListener("focus",n),window.removeEventListener("blur",e)}}),[]),d.createElement(fn.Provider,{value:{browserFocused:f}},u)}function A(){return sn({},d.useContext(fn))}function T(c){var u=c.children,p=d.useState("wysiwyg"),f=p[0],m=p[1];return d.useEffect((function(){document.addEventListener("keydown",(function(c){c.altKey&&c.shiftKey&&c.metaKey&&77===c.keyCode&&m("wysiwyg"===f?"markdown":"wysiwyg")}))})),d.createElement(xn.Provider,{value:{mode:f,setMode:m}},u)}function P(){return d.useContext(xn)}function L(){var c=P(),u=c.mode,p=c.setMode;return d.createElement(hn,{"data-testid":"markdown-toggle","data-tooltip":"Markdown mode",title:"Toggle Markdown mode",onClick:function onClick(){p("markdown"===u?"wysiwyg":"markdown")}},d.createElement(m.MarkdownIcon,null))}function O(c){var u=c.children,p=c.editorView,f=c.translator;return d.createElement(Cn.Provider,{value:{editorView:p,translator:f}},u)}function H(){return sn({},d.useContext(Cn))}function D(c,d,u,p,f){return void 0===f&&(f=!0),function(){var u=H().editorView,m=function t(){return c(u.view.state)};return Y.createElement(hn,{"data-tooltip":p,title:p,onClick:function onClick(){if(m()){var d=u.view;c(d.state,d.dispatch),f&&d.focus()}},disabled:!m(),onMouseDown:function onMouseDown(c){c.preventDefault(),c.stopPropagation()}},Y.createElement(d,null))}}var cn,dn,un,pn,fn=d.createContext({browserFocused:!0}),mn=(fn.Consumer,p.css(cn=cn||I(["\n  flex: 1 1 32px;\n"],["\n  flex: 1 1 32px;\n"]))),hn=Z.button.withConfig({displayName:"MenuButton",componentId:"sc-2uynt7"})(pn=pn||I(["\n  ","\n  background-color: ",";\n  color: ",";\n  fill: ",";\n  border: 1px solid var(--tina-color-grey-2);\n  margin: -1px;\n  outline: none;\n  padding: 6px 4px;\n  transition: all 85ms ease-out;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 12px;\n  font-weight: 600;\n  &:hover {\n    background-color: rgba(53, 50, 50, 0.09);\n  }\n  &:active {\n    color: var(--tina-color-primary);\n    fill: var(--tina-color-primary);\n    background-color: rgba(53, 50, 50, 0.05);\n  }\n  svg {\n    width: 20px;\n    height: 20px;\n  }\n  ",";\n  ",";\n"],["\n  ","\n  background-color: ",";\n  color: ",";\n  fill: ",";\n  border: 1px solid var(--tina-color-grey-2);\n  margin: -1px;\n  outline: none;\n  padding: 6px 4px;\n  transition: all 85ms ease-out;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 12px;\n  font-weight: 600;\n  &:hover {\n    background-color: rgba(53, 50, 50, 0.09);\n  }\n  &:active {\n    color: var(--tina-color-primary);\n    fill: var(--tina-color-primary);\n    background-color: rgba(53, 50, 50, 0.05);\n  }\n  svg {\n    width: 20px;\n    height: 20px;\n  }\n  ",";\n  ",";\n"]),mn,(function(c){return c.active?"rgba(53, 50, 50, 0.05)":"transparent"}),(function(c){return c.active?"var(--tina-color-primary)":"var(--tina-color-grey-8)"}),(function(c){return c.active?"var(--tina-color-primary)":"var(--tina-color-grey-8)"}),(function(c){return c.active&&p.css(dn=dn||I(["\n      color: var(--tina-color-primary);\n      fill: var(--tina-color-primary);\n      background-color: rgba(53, 50, 50, 0.05);\n    "],["\n      color: var(--tina-color-primary);\n      fill: var(--tina-color-primary);\n      background-color: rgba(53, 50, 50, 0.05);\n    "]))}),(function(c){return c.disabled&&p.css(un=un||I(["\n      pointer-events: none;\n      color: #d1d1d1;\n      fill: #d1d1d1;\n    "],["\n      pointer-events: none;\n      color: #d1d1d1;\n      fill: #d1d1d1;\n    "]))})),xn=d.createContext({mode:"wysiwyg",setMode:function setMode(){}}),yn=xn.Consumer,Cn=d.createContext({editorView:void 0,translator:void 0});function nn(c){var u=c.mark,p=c.Icon,f=c.tooltip,m=c.defaultAttrs,h=c.selectionOnly,b=void 0!==h&&h,v=c.noMix,w=void 0===v?[]:v,k=c.isDisabled,x=c.onClick,y=c.onMenuOptionClick;return function(){function l(d){return c.state.schema.marks[d]}function t(){return k?k(c):"image"===u&&b?!!c.state.selection.$cursor||v()||F():v()||F()}var c=H().editorView.view,h=function n(d){var u=c.state,p=l(d),f=u.selection,m=f.from,h=f.$from,g=f.to;return f.empty?!!p.isInSet(u.storedMarks||h.marks()):u.doc.rangeHasMark(m,g,p)},v=function e(){return c.state.selection.$from.node(c.state.selection.$from.depth).type===c.state.schema.nodes.code_block},F=function r(){return w.map(h).reduce((function(c,d){return d||c}),!1)};return l(u)?d.createElement(hn,{"data-tooltip":f,"data-side":"top",title:f,onClick:function onClick(){if(x&&x(c),y)return y(c);if(!t()){var d=c.state,p=c.dispatch;d.selection.$cursor&&b||g.toggleMark(l(u),m)(d,p)}},active:!t()&&h(u),disabled:t()},d.createElement(p,null)):null}}Cn.Consumer;var Mn=d.createContext((function(){return null}));function tn(c){var u=c.children,p=d.useRef(null),f=d.useCallback((function(c){return p.current?b.createPortal(c.children,p.current):null}),[p.current]);return d.createElement(Mn.Provider,{value:f},d.createElement("div",{ref:p},u))}function rn(c,d){for(var u=c,p=u.offsetTop;u.offsetParent&&(!d||u.offsetParent!==d);)p+=(u=u.offsetParent).offsetTop;return p<0?0:p}function on(c,d){for(var u=c,p=u.offsetLeft;u.offsetParent&&(!d||u.offsetParent!==d);)p+=(u=u.offsetParent).offsetLeft;return p}function an(c,d){return!!On(c,d)}function ln(c){var d="Windows"===function(){if(void 0===u.g.navigator)return"Windows";for(var c=navigator.userAgent,d=[{s:"Windows",r:/Win16/},{s:"Windows",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows",r:/(Windows 98|Win98)/},{s:"Windows",r:/Windows CE/},{s:"Windows",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows",r:/Windows NT 5.2/},{s:"Windows",r:/Windows NT 6.0/},{s:"Windows",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/}],p=Object.keys(d),f=0;f<d.length;f+=1){var m=d[p[f]];if(m.r.test(c))return m.s}return""}()?"^":"⌘",p=c;return(p=(p=p.replace("Mod",d)).replace("Shift","⇧")).replace("Alt","⌥")}var In,zn,Sn,An,Nn,Tn=Z((function(c){var u=c.children,p=(c.open,c.triggerRef),f=(c.innerRef,_(c,["children","open","triggerRef","innerRef"])),m=d.useContext(Mn),h=d.useRef(null),g=d.useState(0),b=g[0],v=g[1];return d.useEffect((function(){if(p.current&&h.current){var c=p.current.getBoundingClientRect(),d=h.current.getBoundingClientRect();v(c.x-d.x)}}),[p.current,h.current]),d.createElement(m,null,d.createElement("div",{ref:h},d.createElement(Ln,{offset:b},d.createElement("div",sn({},f),u))))})).withConfig({displayName:"MenuDropdown",componentId:"sc-c33bo9"})(zn=zn||I(["\n  border-radius: var(--tina-radius-small);\n  border: 1px solid #efefef;\n  display: block;\n  position: absolute;\n  bottom: -4px;\n  left: 0;\n  transform: translate3d(0, 100%, 0) scale3d(0.5, 0.5, 1);\n  opacity: 0;\n  pointer-events: none;\n  transition: all 85ms ease-out;\n  transform-origin: 0 0;\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12), 0px 4px 8px rgba(48, 48, 48, 0.1);\n  background-color: white;\n  overflow: hidden;\n  z-index: 10;\n  white-space: nowrap;\n\n  ",";\n"],["\n  border-radius: var(--tina-radius-small);\n  border: 1px solid #efefef;\n  display: block;\n  position: absolute;\n  bottom: -4px;\n  left: 0;\n  transform: translate3d(0, 100%, 0) scale3d(0.5, 0.5, 1);\n  opacity: 0;\n  pointer-events: none;\n  transition: all 85ms ease-out;\n  transform-origin: 0 0;\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12), 0px 4px 8px rgba(48, 48, 48, 0.1);\n  background-color: white;\n  overflow: hidden;\n  z-index: 10;\n  white-space: nowrap;\n\n  ",";\n"]),(function(c){return c.open&&p.css(In=In||I(["\n      opacity: 1;\n      pointer-events: all;\n      transform: translate3d(0, 100%, 0) scale3d(1, 1, 1);\n    "],["\n      opacity: 1;\n      pointer-events: all;\n      transform: translate3d(0, 100%, 0) scale3d(1, 1, 1);\n    "]))})),Ln=Z.div.withConfig({displayName:"Offset",componentId:"sc-1be6ro4"})(Sn=Sn||I(["\n  position: absolute;\n  left: ","px;\n"],["\n  position: absolute;\n  left: ","px;\n"]),(function(c){return c.offset})),Pn=Z.div.withConfig({displayName:"MenuOption",componentId:"sc-1b3xsph"})(Nn=Nn||I(["\n  display: block;\n  padding: 8px 12px;\n  transition: all 85ms ease-out;\n  cursor: pointer;\n  &:first-child {\n    padding-top: var(--tina-padding-small);\n  }\n  &:last-child {\n    padding-bottom: var(--tina-padding-small);\n  }\n  &:hover {\n    background-color: var(--tina-color-grey-1);\n    color: var(--tina-color-primary);\n  }\n  &:active {\n    color: var(--tina-color-primary);\n    fill: var(--tina-color-primary);\n    background-color: rgba(53, 50, 50, 0.05);\n  }\n  ",";\n"],["\n  display: block;\n  padding: 8px 12px;\n  transition: all 85ms ease-out;\n  cursor: pointer;\n  &:first-child {\n    padding-top: var(--tina-padding-small);\n  }\n  &:last-child {\n    padding-bottom: var(--tina-padding-small);\n  }\n  &:hover {\n    background-color: var(--tina-color-grey-1);\n    color: var(--tina-color-primary);\n  }\n  &:active {\n    color: var(--tina-color-primary);\n    fill: var(--tina-color-primary);\n    background-color: rgba(53, 50, 50, 0.05);\n  }\n  ",";\n"]),(function(c){return c.active&&p.css(An=An||I(["\n      color: var(--tina-color-primary);\n      fill: var(--tina-color-primary);\n      background-color: rgba(53, 50, 50, 0.05);\n    "],["\n      color: var(--tina-color-primary);\n      fill: var(--tina-color-primary);\n      background-color: rgba(53, 50, 50, 0.05);\n    "]))})),On=function gn(c,d){var u,p,f=c.selection,m=f.anchor,h=f.head;p=m<h?(u=m,h):(u=h,m),u=f.empty?u:u+1;var g=d.isInSet(c.doc.resolve(u).marks());if(!g)return!1;for(var b=g;u<p&&b;u+=1)d.isInSet(c.doc.resolve(u).marks())||(b=void 0);return b};function bn(c,d){var u=c.selection.$cursor;if(!u)return!1;var p=c.doc.nodeAt(Math.max(u.pos-1,0));if(!p)return!1;if(p.type!=c.schema.nodes.heading)return!1;if(p.textContent.length)return!1;if(d){var f=c.tr;d(f.replaceRangeWith(u.pos-1,u.pos+p.nodeSize-1,c.schema.nodes.paragraph.create()).setSelection(new v.TextSelection(f.doc.resolve(c.selection.head))).scrollIntoView())}return!0}function vn(c,d,u,p){return function(f,m){var h=f.selection,g=h.from,b=h.to,v=null,w=-1;if(f.doc.nodesBetween(g,b,(function(c,d){return!v&&(c.isTextblock&&(v=c,w=d),!0)})),!v||w<0)return!1;var k=f.doc.resolve(w),x=k.index(),y=f.selection.$head.parent.attrs.level==d.level,F=y?u:c,W=y?p:d;return!!k.parent.canReplaceWith(x,x+1,F)&&(m&&m(f.tr.setBlockType(g,b,F,W).scrollIntoView()),!0)}}function wn(c){var u,p=c.Component,f=c.children,m=c.command,h=c.typeName,g=c.attrs,b=c.title;return M(s,u=d.Component),Object.defineProperty(s.prototype,"active",{get:function get(){if(!h)return!1;var c=this.props.view.state.selection.$from,d=c.node(c.depth),u=d.type.name===h,p=!g||d.attrs.level===g.level;return u&&p},enumerable:!0,configurable:!0}),s.prototype.render=function(){return d.createElement(Pn,{onClick:this.onClick,disabled:!this.canDo(),active:this.active},d.createElement(Wn,null,d.createElement(p,null,f),d.createElement(Rn,null,b)))},s;function s(){var c=null!==u&&u.apply(this,arguments)||this;return c.canDo=function(){return m(c.props.view.state)},c.onClick=function(){m(c.props.view.state,c.props.view.dispatch),c.props.view.focus(),c.props.onClick()},c}}function kn(){function n(){return p(!u)}var c=d.useState(!1),u=c[0],p=c[1],f=d.useRef(),g=H().editorView.view;return d.createElement(d.Fragment,null,d.createElement(hn,{ref:f,"data-tooltip":"Heading",title:"Heading",onClick:n,active:u},d.createElement(m.HeadingIcon,null)),d.createElement(Tn,{triggerRef:f,open:u},d.createElement(h.Dismissible,{click:!0,escape:!0,disabled:!u,onDismiss:n},d.createElement(ue,{view:g,onClick:n}),d.createElement(pe,{view:g,onClick:n}),d.createElement(fe,{view:g,onClick:n}),d.createElement(me,{view:g,onClick:n}),d.createElement(he,{view:g,onClick:n}),d.createElement(ke,{view:g,onClick:n}))))}var Dn,Fn,Wn=Z.div.withConfig({displayName:"Content",componentId:"sc-14ga05f"})(Dn=Dn||I(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"],["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"])),Rn=Z.span.withConfig({displayName:"TitleText",componentId:"sc-hkqjau"})(Fn=Fn||I(["\n  color: #d1d1d1;\n  font-size: 12px;\n"],["\n  color: #d1d1d1;\n  font-size: 12px;\n"]));function _n(c){return function(d,u){return vn(d.schema.nodes.heading,{level:c},d.schema.nodes.paragraph,null)(d,u)}}function En(){return d.createElement(hn,{"data-tooltip":"Heading",disabled:!0},d.createElement(m.HeadingIcon,null))}var Bn,$n,Hn,Vn,qn,jn,Un,Gn=p.css(Bn=Bn||I(["\n  white-space: nowrap;\n  line-height: 1;\n  display: block;\n  margin: 0;\n"],["\n  white-space: nowrap;\n  line-height: 1;\n  display: block;\n  margin: 0;\n"])),Xn=Z.h1.withConfig({displayName:"HeadingOne",componentId:"sc-104r6yc"})($n=$n||I(["\n  ","\n"],["\n  ","\n"]),Gn),Yn=Z.h2.withConfig({displayName:"HeadingTwo",componentId:"sc-diboyv"})(Hn=Hn||I(["\n  ","\n"],["\n  ","\n"]),Gn),Zn=Z.h3.withConfig({displayName:"HeadingThree",componentId:"sc-1tzw765"})(Vn=Vn||I(["\n  ","\n"],["\n  ","\n"]),Gn),Qn=Z.h4.withConfig({displayName:"HeadingFour",componentId:"sc-7481ki"})(qn=qn||I(["\n  ","\n"],["\n  ","\n"]),Gn),ie=Z.h5.withConfig({displayName:"HeadingFive",componentId:"sc-14cvi7v"})(jn=jn||I(["\n  ","\n"],["\n  ","\n"]),Gn),ae=Z.h6.withConfig({displayName:"HeadingSix",componentId:"sc-8evpyu"})(Un=Un||I(["\n  ","\n"],["\n  ","\n"]),Gn),ue=wn({Component:Xn,children:"Heading 1",command:_n(1),typeName:"heading",attrs:{level:1},title:ln("Mod-Alt-1")}),pe=wn({Component:Yn,children:"Heading 2",command:_n(2),typeName:"heading",attrs:{level:2},title:ln("Mod-Alt-2")}),fe=wn({Component:Zn,children:"Heading 3",command:_n(3),typeName:"heading",attrs:{level:3},title:ln("Mod-Alt-3")}),me=wn({Component:Qn,children:"Heading 4",command:_n(4),typeName:"heading",attrs:{level:4},title:ln("Mod-Alt-4")}),he=wn({Component:ie,children:"Heading 5",command:_n(5),typeName:"heading",attrs:{level:5},title:ln("Mod-Alt-5")}),ke=wn({Component:ae,children:"Heading 6",command:_n(6),typeName:"heading",attrs:{level:6},title:ln("Mod-Alt-6")});function Kn(){return Y.createElement(hn,{"data-tooltip":"Codeblock","data-side":"top",disabled:!0},Y.createElement(m.CodeIcon,null))}var xe=D((function(c,d){var u=c.schema.nodes,p=u.code_block,f=u.paragraph,m=c.selection,h=c.tr;if(m.$to.node(m.$to.depth).type===p)return g.setBlockType(f)(c,d);if(!d||m.empty)return g.setBlockType(p)(c,d);var b="",w=void 0,k=void 0;c.doc.nodesBetween(m.from,m.to-1,(function(c,d){c.isTextblock&&(void 0===w&&(w=d),b.length&&(b+="\n"),b+=c.textContent,k=d+c.textContent.length+1)}));var x=p.createChecked();return d(h.replaceRangeWith(w,k+1,x).insertText(b,w+1).setSelection(new v.TextSelection(h.doc.resolve(w+b.length+1))))}),m.CodeIcon,0,ln("Codeblock Mod-Alt-0"),!0),Ee="undefined"==typeof navigator,Le="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Pe=null;Ee||(Pe=u(15698));var De=(Jn.prototype.valueChanged=function(){var c=ne(this.node.textContent,this.cm.getValue());if(c){var d=this.getPos()+1,u=this.view.state.schema,p=this.view.state.tr.replaceWith(d+c.from,d+c.to,c.text?u.text(c.text):null);this.view.dispatch(p)}},Jn.prototype.asProseMirrorSelection=function(c){var d=this.getPos()+1,u=this.cm.indexFromPos(this.cm.getCursor("anchor"))+d,p=this.cm.indexFromPos(this.cm.getCursor("head"))+d;return v.TextSelection.create(c,u,p)},Jn.prototype.setSelection=function(c,d){this.cm.focus(),this.updating=!0,this.cm.setSelection(this.cm.posFromIndex(c),this.cm.posFromIndex(d)),this.updating=!1},Jn.prototype.setupCodeMirror=function(c){return Pe(null,{value:c.textContent,lineNumbers:!0,extraKeys:this.codeMirrorKeymap(),mode:c.attrs.params,theme:"forestry"})},Jn.prototype.codeMirrorKeymap=function(){var c,d=this,u=this.view,p=Le?"Cmd":"Ctrl";return Pe.normalizeKeyMap(((c={Up:function Up(){return d.maybeEscape("line",-1)},Left:function Left(){return d.maybeEscape("char",-1)},Down:function Down(){return d.maybeEscape("line",1)},Right:function Right(){return d.maybeEscape("char",1)},Backspace:function Backspace(){if(!function(c){return function(d,u){var p=c.getCursor(),f=c.getValue(),m=!f.replace(/[ \r\n]/g,"");if(0!=p.line||0!=p.ch||!m)return!1;var h=d.selection.$from;if(u){var g=d.schema,b=d.tr;u(b.replaceRangeWith(h.pos-1,h.pos+f.length+1,g.nodes.paragraph.create()).setSelection(new v.TextSelection(b.doc.resolve(h.pos))))}return!0}}(d.cm)(d.view.state,d.view.dispatch))return Pe.Pass;d.view.focus()}})[p+"-Z"]=function(){return w.undo(u.state,u.dispatch)},c["Shift-"+p+"-Z"]=function(){return w.redo(u.state,u.dispatch)},c[p+"-Shift-Enter"]=function(){var c=d.cm.getCursor();if(d.cm.somethingSelected()||c.line!=d.cm.firstLine())return Pe.Pass;if(u.state.selection.$anchor.parentOffset){var p=u.state.selection.$anchor.pos;u.dispatch(u.state.tr.setSelection(v.Selection.near(d.view.state.doc.resolve(p-1),-1)))}return function(c,d){var u=c.selection,p=u.$head,f=u.$anchor;if(!p.parent.type.spec.code||!p.sameParent(f))return!1;var m=p.node(-1),h=p.indexAfter(-1),g=m.defaultContentType(h);if(!m.canReplaceWith(h,h,g))return!1;if(d){var b=p.before(),w=c.tr.replaceWith(b,b,g.createAndFill());w.setSelection(v.Selection.near(w.doc.resolve(b),-1)),d(w.scrollIntoView())}return!0}(u.state,u.dispatch)&&u.focus(),!0},c["Shift-Enter"]=function(){var c=d.cm.getCursor();if(d.cm.somethingSelected()||c.line!=d.cm.lastLine())return Pe.Pass;if(u.state.selection.$anchor.parentOffset){var p=u.state.selection.$anchor.pos;u.dispatch(u.state.tr.setSelection(v.Selection.near(d.view.state.doc.resolve(p-1),-1)))}return g.exitCode(u.state,u.dispatch)||function(c,d){var u=c.selection.$head,p=u.node(-1),f=u.indexAfter(-1),m=p.defaultContentType(f);if(d){var h=u.before(),g=c.tr.replaceWith(h,h,m.createAndFill());g.setSelection(v.Selection.near(g.doc.resolve(h),1)),d(g.scrollIntoView())}return!0}(u.state,u.dispatch)?u.focus():void 0},c[p+"-Alt-0"]=function(){var c=u.state,d=u.dispatch,p=c.schema.nodes.paragraph;g.setBlockType(p)(c,d)},c))},Jn.prototype.maybeEscape=function(c,d){var u=this.cm.getCursor();if(this.cm.somethingSelected()||u.line!=(d<0?this.cm.firstLine():this.cm.lastLine())||"char"==c&&u.ch!=(d<0?0:this.cm.getLine(u.line).length))return Pe.Pass;var p=this.getPos()+(d<0?0:this.node.nodeSize),f=v.Selection.near(this.view.state.doc.resolve(p),d);if(!(f.$from.pos+1<this.view.state.doc.content.size))return Pe.Pass;this.view.dispatch(this.view.state.tr.setSelection(f)),this.view.focus()},Jn.prototype.update=function(c){if(c.type!=this.node.type)return!1;this.node=c;var d=ne(this.cm.getValue(),c.textContent);return d&&(this.updating=!0,this.cm.replaceRange(d.text,this.cm.posFromIndex(d.from),this.cm.posFromIndex(d.to)),this.updating=!1),!0},Jn.prototype.selectNode=function(){this.cm.focus()},Jn.prototype.stopEvent=function(){return!0},Jn);function Jn(c,d,u){var p=this;if(this.node=c,this.view=d,this.getPos=u,this.updating=!1,this.onCursorActivity=function(){p.updating||p.forwardSelection()},this.forwardSelection=function(){if(p.cm.hasFocus()){var c=p.view.state,d=p.asProseMirrorSelection(c.doc);d.eq(c.selection)||p.view.dispatch(c.tr.setSelection(d))}},this.onChange=function(){p.updating||p.valueChanged()},!Ee){this.cm=this.setupCodeMirror(c),this.dom=this.cm.getWrapperElement(),setTimeout((function(){return p.cm.refresh()}),20),this.cm.on("cursorActivity",this.onCursorActivity),this.cm.on("changes",this.onChange),this.cm.on("focus",this.forwardSelection);var f=this.getPos()+1,m=d.state.selection,h=m.anchor,g=m.head;this.setSelection(h-f,g-f)}}function ne(c,d){if(c==d)return null;for(var u=0,p=c.length,f=d.length;u<p&&c.charCodeAt(u)==d.charCodeAt(u);)++u;for(;u<p&&u<f&&c.charCodeAt(p-1)==d.charCodeAt(f-1);)p--,f--;return{from:u,to:p,text:d.slice(u,f)}}function ee(){return d.createElement(d.Fragment,null,d.createElement(Ke,null),d.createElement(Ge,null))}function te(){return d.createElement(d.Fragment,null,d.createElement(Je,null),d.createElement(Xe,null))}function re(){return d.createElement(d.Fragment,null,d.createElement(Qe,null),d.createElement(nt,null),d.createElement(et,null))}function oe(){return d.createElement(d.Fragment,null,d.createElement(hn,{"data-tooltip":"Bold","data-side":"top",disabled:!0},d.createElement(m.BoldIcon,null)),d.createElement(hn,{"data-tooltip":"Italic","data-side":"top",disabled:!0},d.createElement(m.ItalicIcon,null)),d.createElement(hn,{"data-tooltip":"Strike","data-side":"top",disabled:!0},d.createElement(m.StrikethroughIcon,null)))}var Re=new v.PluginKey("image"),Ue=new v.Plugin({key:Re,props:{nodeViews:{code_block:function code_block(c,d,u){return new De(c,d,u)}}}}),Ke=function le(){var c=H().editorView,u=ln("Undo Mod-Z");return d.createElement(hn,{"data-tooltip":u,title:u,"data-side":"top",onClick:function onClick(){var d=c.view,u=d.state,p=d.dispatch;w.undo(u,p)},disabled:w.undoDepth(c.view.state)<1},d.createElement(m.UndoIcon,null))},Ge=function se(){var c=H().editorView,u=ln("Redo Mod-Shift-Z");return d.createElement(hn,{"data-tooltip":u,title:u,"data-side":"top",onClick:function onClick(){var d=c.view,u=d.state,p=d.dispatch;w.redo(u,p)},disabled:w.redoDepth(c.view.state)<1},d.createElement(m.RedoIcon,null))},Je=function ce(){return d.createElement(hn,{"data-tooltip":"Undo","data-side":"top",disabled:!0},d.createElement(m.UndoIcon,null))},Xe=function de(){return d.createElement(hn,{"data-tooltip":"Redo","data-side":"top",disabled:!0},d.createElement(m.RedoIcon,null))},Ye=new v.PluginKey("inline"),Ze=new v.Plugin({key:Ye,props:{handleKeyDown:function handleKeyDown(c,d){return function(c,d){if("ArrowRight"!==d.key)return!1;var u=c.state,p=u.selection,f=u.schema.marks.code;if(!f.isInSet(p.$to.marks()))return!1;if(p.$to.node().nodeSize-2!==p.$to.parentOffset)return!1;var m=c.state;return(0,c.dispatch)(m.tr.insertText(" ",p.$to.pos).removeMark(p.$to.pos,p.$to.pos+1,f)),!0}(c,d)}}}),Qe=nn({mark:"strong",Icon:m.BoldIcon,tooltip:ln("Bold Mod-B")}),nt=nn({mark:"em",Icon:m.ItalicIcon,tooltip:ln("Italic Mod-I")}),et=nn({mark:"strike",Icon:m.StrikethroughIcon,tooltip:"Strike"});function ge(c,d){var u=k.liftListItem(c.schema.nodes.list_item);return k.wrapInList(c.schema.nodes.bullet_list)(c,d)||u(c,d)}function be(c,d){var u=k.liftListItem(c.schema.nodes.list_item);return k.wrapInList(c.schema.nodes.ordered_list)(c,d)||u(c,d)}function ve(c){return d.createElement(d.Fragment,null,d.createElement(tt,sn({},c)),d.createElement(rt,sn({},c)))}function we(c){return d.createElement(d.Fragment,null,d.createElement(ot,sn({},c)),d.createElement(it,sn({},c)))}var tt=D(ge,m.UnorderedListIcon,0,ln("Unordered List Mod-Alt-8")),rt=D(be,m.OrderedListIcon,0,ln("Ordered List Mod-Alt-7")),ot=function ye(){return d.createElement(hn,{"data-tooltip":"Unordered List",disabled:!0},d.createElement(m.UnorderedListIcon,null))},it=function Ce(){return d.createElement(hn,{"data-tooltip":"Ordered List",disabled:!0},d.createElement(m.OrderedListIcon,null))};function Me(){return Y.createElement(hn,{"data-tooltip":"Quote","data-side":"top",disabled:!0},Y.createElement(m.QuoteIcon,null))}function _e(c,d){return d?c.createChecked(null,d):c.createAndFill()}var at=D((function(c,d){var u=c.schema.nodes.blockquote,p=x.findParentNodeOfType(u)(c.selection)||{},f=p.start,m=p.node;if(f&&m){var h=c.tr,b=h.doc.resolve(f+1).blockRange(h.doc.resolve(f+m.nodeSize-2));if(b)return!d||d(h.lift(b,0))}return g.wrapIn(c.schema.nodes.blockquote)(c,d)}),m.QuoteIcon,0,"Blockquote"),lt=function ze(c,d,u,p){var f=d.width,m=d.map.findIndex((function(d){return d===c-u.start}));return new F.CellSelection(p.resolve(d.map[m+f-1]+u.start),p.resolve(c))},st=function Se(c,d,u,p){var f=d.width,m=d.height,h=d.map.findIndex((function(d){return d===c-u.start}));return new F.CellSelection(p.resolve(d.map[h+f*(m-1)]+u.start),p.resolve(c))},ct=function Ie(c,d,u,p){return new F.CellSelection(p.resolve(d.map[d.map.length-1]+u.start),p.resolve(c))},dt=function Ne(c,d,u,p){for(var f=[],m=d.map,h=function e(d){var h=document.createElement("div");h.classList.add("tina_table_header_ext_top"),p&&u.ranges.some((function(u){return u.$from.pos===c.start+m[d]+1}))&&h.classList.add("tina_table_header_ext_top_selected"),f.push(y.Decoration.widget(c.start+m[d]+1,h))},g=0;g<d.width;g++)h(g);return f},ut=function Ae(c,d,u,p){for(var f=[],m=d.map,h=function n(h){var n=document.createElement("div");n.classList.add("tina_table_header_ext_left"),p&&u.ranges.some((function(u){return u.$from.pos===c.start+m[h*d.width]+1}))&&n.classList.add("tina_table_header_ext_left_selected"),f.push(y.Decoration.widget(c.start+m[h*d.width]+1,n))},g=0;g<d.height;g++)h(g);return f},pt=function Te(c,d,u){var p=[],f=document.createElement("div");return f.classList.add("tina_table_header_ext_top_left"),d&&u&&f.classList.add("tina_table_header_ext_top_left_selected"),p.push(y.Decoration.widget(c.start+2,f)),p},ft=new v.PluginKey("table"),mt=new v.Plugin({key:ft,state:{init:function init(){return{deco:y.DecorationSet.empty}},apply:function apply(c,d,u,p){if(!1===c.getMeta("image_clicked"))return d;var f=p.selection;if(f){var m=p.schema.nodes.table,h=x.findParentNodeOfType(m)(f);if(h){var g=f===u.selection,b=(h&&h.node.nodeSize)===(d.selectedTable&&d.selectedTable.node.nodeSize)&&(h&&h.start)===(d.selectedTable&&d.selectedTable.start);if(g&&b)return d;var v=function(c,d){var u=F.TableMap.get(c.node),p=d.isColSelection&&d.isColSelection(),f=d.isRowSelection&&d.isRowSelection(),m=pt(c,p,f);return S(m=S(m,dt(c,u,d,p)),ut(c,u,d,f))}(h,f);if(v.length)return{deco:y.DecorationSet.create(p.doc,v),tableMap:F.TableMap.get(h.node),selectedTable:h}}}return{deco:y.DecorationSet.empty}}},props:{decorations:function decorations(c){return this.getState(c).deco},handleClickOn:function handleClickOn(c,d,u,p,f,m){if(!m)return!1;var h=f.target.classList,g=c.state,b=c.dispatch,v=ft.getState(g),w=v.tableMap,k=v.selectedTable,x=function(c,d,u,p,f){return d.includes("tina_table_header_ext_top_left")?ct(c,u,p,f.doc):d.includes("tina_table_header_ext_left")?lt(c,u,p,f.doc):d.includes("tina_table_header_ext_top")?st(c,u,p,f.doc):void 0}(p,h.value,w,k,g);return x&&b(g.tr.setSelection(x)),!1}}});function Oe(){return Y.createElement(hn,{"data-tooltip":"Table",disabled:!0},Y.createElement(m.TableIcon,null))}var ht=D((function(c,d){var u=c.schema.nodes,p=u.table,f=u.code_block,m=c.selection,h=m.$to.node(m.$to.depth);return(!h||h.type!==f)&&!x.findParentNodeOfType(p)(m)&&function(c,d){if(!d)return!0;for(var u=c.schema.nodes,p=u.table_cell,f=u.table_header,m=u.table_row,h=u.table,g=[],b=[],w=0;w<3;w+=1)b.push(_e(f)),g.push(_e(p));var k=[];for(w=0;w<3;w+=1)k.push(m.createChecked(null,0===w?b:g));var x=h.createChecked(null,k),y=c.selection,F=c.tr,W=y.$from,R=y.$to,B=W.pos-1,V=R.pos<c.doc.content.size?R.pos+1:R.pos;return d(F.replaceWith(B,V,x).setSelection(new v.TextSelection(F.doc.resolve(W.pos+1))).scrollIntoView()),!0}(c,d)}),m.TableIcon,0,"Table");function Fe(c){return c}var gt=(We.prototype.updateImgSrc=function(c){return E(this,void 0,void 0,(function(){var d;return z(this,(function(u){switch(u.label){case 0:if(!this.img)return[2];u.label=1;case 1:return u.trys.push([1,3,,4]),d=this.img,[4,this.previewSrc(c)];case 2:return d.src=u.sent(),[3,4];case 3:return u.sent(),this.img.src=c,[3,4];case 4:return[2]}}))}))},We.prototype.update=function(c){if(this.img){var d=c.attrs,u=d.alt,p=d.title;u&&(this.img.alt=u),p&&(this.img.title=p)}return!0},We);function We(c,d,u){var p=this;void 0===u&&(u=Fe),this.previewSrc=u,this.selectNode=function(){p.img&&(p.img.style.outline="4px solid #0084FF",p.img.classList.add("tina-selected-image"))},this.deselectNode=function(){p.img&&(p.img.style.outline="",p.img.classList.remove("tina-selected-image"))},this.destroy=function(){p.deselectNode()},this.node=c,this.view=d,this.dom=document.createElement("span"),this.dom.classList.add("tinacms-image-wrapper"),this.img=document.createElement("img");var f=c.attrs,m=f.src,h=f.align,g=f.alt,b=f.title,v=f.width,w=f.height;this.updateImgSrc(m),w&&(this.img.style.height=w),v&&(this.img.style.width=v),h&&this.img.classList.add("align-"+h),g&&(this.img.alt=g),b&&(this.img.title=b),this.dom.appendChild(this.img)}function Be(c,d,u){d(c.tr.setSelection(new v.NodeSelection(c.tr.doc.resolve(u))))}function qe(c,d,u){for(var p=[],f=0;f<d.files.length;f++){var m=d.files[f];m.type.match("image.*")&&p.push(m)}if(p.length){var h=c.state,g=c.dispatch;return g(h.tr.setMeta("loading_images",p.length)),u(p).then((function(d){void 0===d&&(d=[]),g(h.tr.setMeta("loading_images",0)),function(c,d,u){if(d){var p=c.schema.nodes.image,f=c.tr;u.forEach((function(c){var d=p.createAndFill({src:c,alt:"",title:""});f.replaceSelectionWith(d)})),d(f.scrollIntoView())}}(h,g,d),c.focus()})),!0}return!1}function $e(c){var u=c.imageProps,p=f.useCMS(),h=d.useRef(),g=H().editorView;if(!u||!u.upload)return null;var b=u.parse,v=u.mediaDir;function l(c){return E(this,void 0,void 0,(function(){return z(this,(function(d){return c&&function(c){if(g){var d=g.view;!function(c,d,u){var p=c.schema.nodes.image.createAndFill({src:u,alt:"",title:""});d&&d(c.tr.replaceSelectionWith(p).scrollIntoView())}(d.state,d.dispatch,c),g.view.focus()}}(b(c)),[2]}))}))}return Y.createElement(Y.Fragment,null,Y.createElement(hn,{title:"Image",ref:h,onClick:function onClick(){p.media.open({directory:v||"/",onSelect:l})}},Y.createElement(m.MediaIcon,null)))}function He(c){return c.uploadImages?Y.createElement(hn,{"data-testid":"image-menu","data-tooltip":"Image","data-side":"top",disabled:!0},Y.createElement(m.MediaIcon,null)):null}function je(){var c=H().editorView.view,u=Pt.getState(c.state);if(!u||!u.selectedImage)return null;var p=u.selectedImage,f=p.node,m=p.pos,h=c.state.schema.marks.link,g=f.marks.find((function(c){return c.type===h})),b=d.useState(f.attrs.title),w=b[0],k=b[1],x=d.useState(f.attrs.alt),y=x[0],F=x[1],B=d.useState(g&&g.attrs.title),V=B[0],q=B[1],j=d.useState(g&&g.attrs.href),U=j[0],K=j[1],G=c.coordsAtPos(m),J=G.top,X=G.left,Z=d.useState(J),Q=Z[0],en=Z[1],cn=d.useState(X),dn=cn[0],un=cn[1],pn=d.useRef(),fn=d.useRef(),mn=d.useRef(),hn=d.useState(!!g),xn=hn[0],yn=hn[1];function L(c){var d=document.getElementsByClassName("tina-selected-image")[0],u=document.getElementsByClassName("wysiwyg-wrapper")[0];if(d&&(mn.current!==d||c)&&pn.current){mn.current=d;var p=pn.current.getBoundingClientRect();un(d.clientWidth/2+on(d,u)-p.width/2),en(rn(d,u))}}function O(){var d=c.dispatch,u=c.state,p=u.schema.nodes.image,h=u.schema.marks.link,g=u.tr;xn&&(U||V)?g.addMark(m,m+1,h.create({href:U,title:V})):g.removeMark(m,m+1,h),g.setNodeMarkup(m,p,sn(sn({},f.attrs),{alt:y,title:w})).setSelection(new v.NodeSelection(g.doc.resolve(m))),d(g),Cn(),c.focus()}d.useEffect((function(){var c=W((function(){return L(!0)}),10);return window.addEventListener("scroll",c),function(){window.removeEventListener("scroll",c)}})),d.useEffect((function(){q(g?g.attrs.title:""),K(g?g.attrs.href:""),yn(!!g)}),[g]),d.useEffect((function(){k(f.attrs.title),F(f.attrs.alt)}),[u.selectedImage.node]),d.useEffect((function(){setTimeout((function(){fn.current&&fn.current.focus()}))}),[fn]),d.useEffect(L);var Cn=function D(){(0,c.dispatch)(c.state.tr.setMeta("image_clicked",!1)),k(""),F(""),q(""),K(""),c.focus()};return Y.createElement(R.StyleReset,null,Y.createElement(Ot,{top:Q,left:dn,ref:pn,onKeyDown:function onKeyDown(c){"Escape"===c.key&&Cn(),"Enter"===c.key&&O()}},Y.createElement(Dt,null,"Title"),Y.createElement(Ft,{placeholder:"Enter Title",type:"text",ref:fn,value:w,onChange:function onChange(c){return k(c.target.value)}}),Y.createElement(Dt,null,"Alt"),Y.createElement(Ft,{placeholder:"Enter Alt Text",type:"text",value:y,onChange:function onChange(c){return F(c.target.value)}}),Y.createElement($t,null,Y.createElement(jt,{id:"toggleImageLink",onChange:function onChange(){yn(!xn),xn||(q(""),K(""))},type:"checkbox"}),Y.createElement(Ht,{htmlFor:"toggleImageLink",role:"switch"},"Insert Link",Y.createElement(qt,{checked:xn},Y.createElement("span",null)))),xn&&Y.createElement(Y.Fragment,null,Y.createElement(Dt,null,"Link Title"),Y.createElement(Ft,{placeholder:"Enter Link Title",type:"text",value:V,onChange:function onChange(c){return q(c.target.value)}}),Y.createElement(Dt,null,"Link URL"),Y.createElement(Ft,{placeholder:"Enter Link URL",type:"text",value:U,onChange:function onChange(c){return K(c.target.value)}})),Y.createElement(Wt,null,Y.createElement(Bt,{onClick:Cn},"Cancel"),Y.createElement(Rt,{onClick:O},"Save"))))}function Ve(){var c=document.getElementsByClassName("image_loading_indicator");if(!c.length)return null;for(var d=[],u=0;u<c.length;u++)d.push(Q.createPortal(Y.createElement(Gt,null),c[0]));return Y.createElement(Y.Fragment,null,d)}var vt,yt,Ct,Mt,It,zt,St,At,Nt,Tt,Lt,Pt=new v.PluginKey("image"),Ot=Z.span.withConfig({displayName:"LinkPopup",componentId:"sc-1aj0e3l"})(vt=vt||I(["\n  background-color: #f6f6f9;\n  position: absolute;\n  border-radius: var(--tina-radius-small);\n  border: 1px solid var(--tina-color-grey-2);\n  filter: drop-shadow(0px 4px 8px rgba(48, 48, 48, 0.1))\n    drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.12));\n  transform-origin: 50% 0;\n  overflow: visible;\n  padding: 12px;\n  z-index: 10;\n  width: 16rem;\n  left: ",";\n  top: ",";\n"],["\n  background-color: #f6f6f9;\n  position: absolute;\n  border-radius: var(--tina-radius-small);\n  border: 1px solid var(--tina-color-grey-2);\n  filter: drop-shadow(0px 4px 8px rgba(48, 48, 48, 0.1))\n    drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.12));\n  transform-origin: 50% 0;\n  overflow: visible;\n  padding: 12px;\n  z-index: 10;\n  width: 16rem;\n  left: ",";\n  top: ",";\n"]),(function(c){return c.left+"px"}),(function(c){return c.top+"px"})),Dt=Z.label.withConfig({displayName:"LinkLabel",componentId:"sc-1pxsxkw"})(yt=yt||I(["\n  display: block;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  color: var(--tina-color-grey-8);\n  margin-bottom: 3px;\n"],["\n  display: block;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  color: var(--tina-color-grey-8);\n  margin-bottom: 3px;\n"])),Ft=Z.input.withConfig({displayName:"LinkInput",componentId:"sc-1cld1e4"})(Ct=Ct||I(["\n  position: relative;\n  background-color: white;\n  border-radius: var(--tina-radius-small);\n  font-size: var(--tina-font-size-1);\n  line-height: 1.35;\n  transition: all 85ms ease-out;\n  padding: 8px 12px;\n  border: 1px solid var(--tina-color-grey-2);\n  width: 100%;\n  margin: 0 0 8px 0;\n  outline: none;\n  box-shadow: 0 0 0 2px transparent;\n\n  &:hover {\n    box-shadow: 0 0 0 2px var(--tina-color-grey-3);\n  }\n\n  &:focus {\n    box-shadow: 0 0 0 2px var(--tina-color-primary);\n  }\n\n  &::placeholder {\n    font-size: var(--tina-font-size-2);\n    color: #cfd3d7;\n  }\n"],["\n  position: relative;\n  background-color: white;\n  border-radius: var(--tina-radius-small);\n  font-size: var(--tina-font-size-1);\n  line-height: 1.35;\n  transition: all 85ms ease-out;\n  padding: 8px 12px;\n  border: 1px solid var(--tina-color-grey-2);\n  width: 100%;\n  margin: 0 0 8px 0;\n  outline: none;\n  box-shadow: 0 0 0 2px transparent;\n\n  &:hover {\n    box-shadow: 0 0 0 2px var(--tina-color-grey-3);\n  }\n\n  &:focus {\n    box-shadow: 0 0 0 2px var(--tina-color-primary);\n  }\n\n  &::placeholder {\n    font-size: var(--tina-font-size-2);\n    color: #cfd3d7;\n  }\n"])),Wt=Z.div.withConfig({displayName:"LinkActions",componentId:"sc-9clmnj"})(Mt=Mt||I(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 4px;\n"],["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 4px;\n"])),Rt=Z.button.withConfig({displayName:"SaveLink",componentId:"sc-10b9wei"})(It=It||I(["\n  text-align: center;\n  border: 0;\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: var(--tina-color-primary);\n  color: white;\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: var(--tina-color-primary-light);\n  }\n  &:active {\n    background-color: var(--tina-color-primary-dark);\n  }\n"],["\n  text-align: center;\n  border: 0;\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: var(--tina-color-primary);\n  color: white;\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: var(--tina-color-primary-light);\n  }\n  &:active {\n    background-color: var(--tina-color-primary-dark);\n  }\n"])),Bt=Z.button.withConfig({displayName:"CancelLink",componentId:"sc-6sgy2n"})(zt=zt||I(["\n  text-align: center;\n  border: 1px solid var(--tina-color-grey-2);\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: white;\n  color: var(--tina-color-primary);\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: var(--tina-color-grey-1);\n    opacity: 1;\n  }\n  &:active {\n    background-color: var(--tina-color-primary-dark);\n  }\n"],["\n  text-align: center;\n  border: 1px solid var(--tina-color-grey-2);\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: white;\n  color: var(--tina-color-primary);\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: var(--tina-color-grey-1);\n    opacity: 1;\n  }\n  &:active {\n    background-color: var(--tina-color-primary-dark);\n  }\n"])),$t=Z.div.withConfig({displayName:"ToggleElement",componentId:"sc-17ib7ve"})(St=St||I(["\n  display: block;\n  position: relative;\n  margin: 0 0 0.5rem 0;\n"],["\n  display: block;\n  position: relative;\n  margin: 0 0 0.5rem 0;\n"])),Ht=Z.label.withConfig({displayName:"ToggleLabel",componentId:"sc-mikhan"})(At=At||I(["\n  background: none;\n  color: inherit;\n  padding: 0;\n  opacity: ",";\n  outline: none;\n  height: 28px;\n  pointer-events: ",";\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  line-height: 1.35;\n  color: var(--tina-color-grey-8);\n"],["\n  background: none;\n  color: inherit;\n  padding: 0;\n  opacity: ",";\n  outline: none;\n  height: 28px;\n  pointer-events: ",";\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  line-height: 1.35;\n  color: var(--tina-color-grey-8);\n"]),(function(c){return c.disabled?"0.4":"1"}),(function(c){return c.disabled?"none":"inherit"})),qt=Z.div.withConfig({displayName:"ToggleSwitch",componentId:"sc-1ohpo8z"})(Nt=Nt||I(["\n  position: relative;\n  width: 48px;\n  height: 28px;\n  border-radius: var(--tina-radius-big);\n  background-color: white;\n  border: 1px solid var(--tina-color-grey-2);\n  pointer-events: none;\n  margin-left: -2px;\n  span {\n    position: absolute;\n    border-radius: var(--tina-radius-big);\n    left: 2px;\n    top: 50%;\n    width: calc(28px - 6px);\n    height: calc(28px - 6px);\n    background: ",";\n    transform: translate3d(",", -50%, 0);\n    transition: all 150ms ease-out;\n  }\n"],["\n  position: relative;\n  width: 48px;\n  height: 28px;\n  border-radius: var(--tina-radius-big);\n  background-color: white;\n  border: 1px solid var(--tina-color-grey-2);\n  pointer-events: none;\n  margin-left: -2px;\n  span {\n    position: absolute;\n    border-radius: var(--tina-radius-big);\n    left: 2px;\n    top: 50%;\n    width: calc(28px - 6px);\n    height: calc(28px - 6px);\n    background: ",";\n    transform: translate3d(",", -50%, 0);\n    transition: all 150ms ease-out;\n  }\n"]),(function(c){return c.checked?"var(--tina-color-primary)":"var(--tina-color-grey-3)"}),(function(c){return c.checked?"20px":"0"})),jt=Z.input.withConfig({displayName:"ToggleInput",componentId:"sc-1e610f0"})(Tt=Tt||I(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 48px;\n  height: 28px;\n  opacity: 0;\n  margin: 0;\n  cursor: ",";\n"],["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 48px;\n  height: 28px;\n  opacity: 0;\n  margin: 0;\n  cursor: ",";\n"]),(function(c){return c.disabled?"not-allowed":"pointer"})),Gt=Z((function(c){var d=_(c,[]);return Y.createElement("div",sn({},d),Y.createElement(B.LoadingDots,{color:"var(--tina-color-primary)"}))})).withConfig({displayName:"ImagePlaceholder",componentId:"sc-1vkho29"})(Lt=Lt||I(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  padding: 64px;\n  background-color: rgba(100, 100, 100, 0.07);\n"],["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  padding: 64px;\n  background-color: rgba(100, 100, 100, 0.07);\n"])),Jt=/\.(jpe?g|png)/,Xt=/\bhttps?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:;%_\+.,~#?&//=]*)/g,Yt=function bt(c){var d=[];return c.forEach((function(c){if(c.isText){for(var u=c.text,p=0,f=void 0,m=c.type.schema.marks.link,h=c.type.schema.nodes.image,g=[];f=Xt.exec(u);){var b=f.index,v=b+f[0].length;g.push({start:b,end:v})}g.forEach((function(f){var g,b=f.start,v=f.end;0<b&&d.push(c.cut(p,b));var w=u.slice(b,v);Jt.test(w)?(g={src:w,title:"",alt:""},d.push(h.create(g))):(g={href:w,title:w},d.push(c.cut(b,v).mark(m.create(g).addToSet(c.marks)))),p=v})),p<u.length&&d.push(c.cut(p))}else d.push(c.copy(bt(c.content)))})),V.Fragment.fromArray(d)},Zt=new v.PluginKey("image");function wt(c,d){var u=(window.$cursor=c).index(),p=c.indexAfter();u===c.parent.childCount&&(u--,p--);var f=d.isInSet(c.parent.child(u).marks);if(f){for(var m=function i(d){return f.isInSet(c.parent.child(d).marks)};0<u&&m(u-1);)u--;for(;p<c.parent.childCount&&m(p);)p++;for(var h=c.start(),g=h,b=0;b<p;b++){var v=c.parent.child(b).nodeSize;b<u&&(h+=v),g+=v}return{from:h,to:g,mark:f}}}function kt(c,d){var u=c.schema,p=c.selection,f=u.marks;if(p.empty&&!an(c,f.link))return!1;var m=c.tr.setMeta("show_link_toolbar",!0);if(!an(c,f.link)){var h=p.$to,g=p.$from;m.addMark(g.pos,h.pos,f.link.create({href:"",title:""}))}return d(m)}function xt(){return Y.createElement(hn,{"data-tooltip":"Link","data-side":"top",disabled:!0},Y.createElement(m.LinkIcon,null))}var Qt,nr=nn({mark:"link",Icon:m.LinkIcon,tooltip:ln("Link Mod-K"),selectionOnly:!0,noMix:["code"],isDisabled:function isDisabled(c){var d=c.state,u=d.schema,p=d.selection,f=u.marks,m=u.nodes;if(p.empty&&!an(c.state,f.link))return!0;var h=p.$from.node(),g=Pt.getState(c.state);return!!(null==g?void 0:g.selectedImage)||h&&h.type===m.code_block},onMenuOptionClick:function onMenuOptionClick(c){return kt(c.state,c.dispatch)}}),er=(M(_t,Qt=d.Component),_t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.onEscapeCancel),this.inputRef.current&&this.inputRef.current.focus()},_t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.onEscapeCancel)},_t.prototype.componentDidUpdate=function(c){var d=this.props.href;d!==c.href&&this.setState((function(){return{href:d}}))},_t.prototype.closeModal=function(){var c=this.state.href,d=this.props,u=d.cancel,p=d.removeLink,f=d.href;c||f||p(),u()},_t.prototype.render=function(){var c=this.props,u=c.removeLink,p=c.style,f=void 0===p?{}:p,m=this.state.href;return d.createElement(vr,{style:sn({},f)},d.createElement(kr,null,"URL"),d.createElement(xr,{ref:this.inputRef,placeholder:"Enter URL",type:"text",value:m,onChange:this.setHref,onKeyPress:this.onEnterSave}),d.createElement(yr,null,d.createElement(_r,{onClick:u},"Delete"),d.createElement(Cr,{onClick:this.save,disabled:!m},"Save")))},_t);function _t(){var c=null!==Qt&&Qt.apply(this,arguments)||this;return c.state={href:c.props.href||""},c.inputRef=d.createRef(),c.setHref=function(d){var u=d.target.value;return c.setState((function(){return{href:u}}))},c.save=function(){return c.props.onChange(c.state)},c.onEnterSave=function(d){"Enter"===d.key&&c.save()},c.onEscapeCancel=function(d){27===d.keyCode&&c.closeModal()},c}function Et(){var c=H().editorView,u=d.useState(void 0),p=u[0],f=u[1];if(!c)return null;var m=c.view,h=Zt.getState(m.state),g=m.state.selection,b=g.anchor,v=g.head,w=b<v?b:v,k=(m.state.selection.empty?m.domAtPos(w).node:m.domAtPos(w+1).node).parentNode,x=d.createRef();if(d.useEffect((function(){if(k&&x.current){var c=function(c,d,u){var p=c.offsetWidth,f=on(c),m=d.parentElement.offsetWidth,h=on(d),g=f-h+p/2-u/2;return g<-h?"-8px":m<g+u?"calc("+(g-(g+u-m))+"px + 8px)":g+"px"}(k,x.current,240),d="calc(32px + "+(rn(k)-rn(x.current))+"px)",u=function(c,d){var u=c.offsetWidth;return on(c)-on(d)+u/2+"px"}(k,x.current);f({arrowOffset:u,left:c,top:d})}else f(void 0)}),[h]),!h.show_link_toolbar)return null;var y=p||{},F=y.arrowOffset,W=y.left,B=y.top,V=m.state,q=m.dispatch,j="",U=On(V,V.schema.marks.link);return U&&(j=U.attrs.href),d.createElement("div",{ref:x,style:{position:"absolute"}},p&&d.createElement(R.StyleReset,null,d.createElement(Mr,null,d.createElement(Tr,{offset:F,top:B}),d.createElement(er,{style:{left:W,top:B,width:"240px"},removeLink:function removeLink(){return function(c,d){if(d){var u=c.selection,p=c.schema,f=c.tr,m=wt(u.$anchor,p.marks.link);m&&f.removeMark(m.from,m.to,m.mark),f.setMeta("show_link_toolbar",!1),d(f)}return!0}(V,q)},onChange:function onChange(c){!function(c,d,u){if(d){var p=c.selection,f=c.schema,m=c.tr,h=wt(p.$anchor,f.marks.link);h&&m.addMark(h.from,h.to,f.marks.link.create(u)),m.setMeta("show_link_toolbar",!1),d(m)}}(m.state,m.dispatch,c),m.focus()},href:j,cancel:function cancel(){!function(c){(0,c.dispatch)(c.state.tr.setMeta("show_link_toolbar",!1))}(m),m.focus()}}))))}var tr,lr,sr,cr,dr,ur,fr,mr,hr,br=p.keyframes(tr=tr||I(["\n  0% {\n    transform: scale3d(0.5,0.5,1)\n  }\n  100% {\n    transform: scale3d(1, 1, 1);\n  }\n"],["\n  0% {\n    transform: scale3d(0.5,0.5,1)\n  }\n  100% {\n    transform: scale3d(1, 1, 1);\n  }\n"])),vr=Z.div.withConfig({displayName:"LinkPopup",componentId:"sc-1hqcagv"})(lr=lr||I(["\n  background-color: #f6f6f9;\n  position: relative;\n  height: max-content;\n  border-radius: var(--tina-radius-small);\n  border: 1px solid var(--tina-color-grey-2);\n  filter: drop-shadow(0px 4px 8px rgba(48, 48, 48, 0.1))\n    drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.12));\n  transform-origin: 50% 0;\n  animation: "," 85ms ease-out both 1;\n  overflow: visible;\n  padding: 12px;\n  z-index: 10;\n"],["\n  background-color: #f6f6f9;\n  position: relative;\n  height: max-content;\n  border-radius: var(--tina-radius-small);\n  border: 1px solid var(--tina-color-grey-2);\n  filter: drop-shadow(0px 4px 8px rgba(48, 48, 48, 0.1))\n    drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.12));\n  transform-origin: 50% 0;\n  animation: "," 85ms ease-out both 1;\n  overflow: visible;\n  padding: 12px;\n  z-index: 10;\n"]),br),kr=Z.label.withConfig({displayName:"LinkLabel",componentId:"sc-nqfitz"})(sr=sr||I(["\n  display: block;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  color: var(--tina-color-grey-8);\n  margin-bottom: 3px;\n"],["\n  display: block;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  color: var(--tina-color-grey-8);\n  margin-bottom: 3px;\n"])),xr=Z.input.withConfig({displayName:"LinkInput",componentId:"sc-scn72x"})(cr=cr||I(["\n  position: relative;\n  background-color: white;\n  border-radius: var(--tina-radius-small);\n  font-size: var(--tina-font-size-1);\n  line-height: 1.35;\n  transition: all 85ms ease-out;\n  padding: 8px 12px;\n  border: 1px solid var(--tina-color-grey-2);\n  width: 100%;\n  margin: 0 0 8px 0;\n  outline: none;\n  box-shadow: 0 0 0 2px transparent;\n\n  &:hover {\n    box-shadow: 0 0 0 2px var(--tina-color-grey-3);\n  }\n\n  &:focus {\n    box-shadow: 0 0 0 2px #0084ff;\n  }\n\n  &::placeholder {\n    font-size: var(--tina-font-size-2);\n    color: #cfd3d7;\n  }\n"],["\n  position: relative;\n  background-color: white;\n  border-radius: var(--tina-radius-small);\n  font-size: var(--tina-font-size-1);\n  line-height: 1.35;\n  transition: all 85ms ease-out;\n  padding: 8px 12px;\n  border: 1px solid var(--tina-color-grey-2);\n  width: 100%;\n  margin: 0 0 8px 0;\n  outline: none;\n  box-shadow: 0 0 0 2px transparent;\n\n  &:hover {\n    box-shadow: 0 0 0 2px var(--tina-color-grey-3);\n  }\n\n  &:focus {\n    box-shadow: 0 0 0 2px #0084ff;\n  }\n\n  &::placeholder {\n    font-size: var(--tina-font-size-2);\n    color: #cfd3d7;\n  }\n"])),yr=Z.div.withConfig({displayName:"LinkActions",componentId:"sc-y8280b"})(dr=dr||I(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 4px;\n"],["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 4px;\n"])),Cr=Z.button.withConfig({displayName:"SaveLink",componentId:"sc-1n65xx3"})(ur=ur||I(["\n  text-align: center;\n  border: 0;\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: #0084ff;\n  color: white;\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: #2296fe;\n  }\n  &:active {\n    background-color: #0574e4;\n  }\n  &:disabled {\n    background-color: #d1d1d1;\n    box-shadow: none;\n  }\n"],["\n  text-align: center;\n  border: 0;\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: #0084ff;\n  color: white;\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: #2296fe;\n  }\n  &:active {\n    background-color: #0574e4;\n  }\n  &:disabled {\n    background-color: #d1d1d1;\n    box-shadow: none;\n  }\n"])),_r=Z.button.withConfig({displayName:"DeleteLink",componentId:"sc-1msckc5"})(fr=fr||I(["\n  text-align: center;\n  border: 1px solid var(--tina-color-grey-2);\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: white;\n  color: #0084ff;\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: #f6f6f9;\n    opacity: 1;\n  }\n  &:active {\n    background-color: #0574e4;\n  }\n"],["\n  text-align: center;\n  border: 1px solid var(--tina-color-grey-2);\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: white;\n  color: #0084ff;\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: #f6f6f9;\n    opacity: 1;\n  }\n  &:active {\n    background-color: #0574e4;\n  }\n"])),Mr=Z.div.withConfig({displayName:"LinkFormWrapper",componentId:"sc-1l05ha8"})(mr=mr||I(["\n  position: relative;\n"],["\n  position: relative;\n"])),Tr=Z.div.withConfig({displayName:"LinkArrow",componentId:"sc-1c6e8lh"})(hr=hr||I(["\n  position: absolute;\n  top: ",";\n  left: ",";\n  margin-top: 3px;\n  transform: translate3d(-50%, -100%, 0);\n  width: 16px;\n  height: 13px;\n  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);\n  background-color: #f6f6f9;\n  z-index: 100;\n"],["\n  position: absolute;\n  top: ",";\n  left: ",";\n  margin-top: 3px;\n  transform: translate3d(-50%, -100%, 0);\n  width: 16px;\n  height: 13px;\n  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);\n  background-color: #f6f6f9;\n  z-index: 100;\n"]),(function(c){return c.top}),(function(c){return c.offset}));function Vt(c){var u=c.sticky,p=void 0===u||u,f=c.menus,m=c.plugins,h=c.popups,g=d.useState(!1),b=g[0],v=g[1],w="undefined"!=typeof window,k=d.useRef(null),x=d.useState(null),y=x[0],F=x[1],R=d.useState(null),B=R[0],V=R[1],q="string"==typeof p?p:"0",j=d.useRef(0),U=d.useRef(0),K=H().editorView,G=P().mode;d.useEffect((function(){k.current&&p&&F(k.current.getBoundingClientRect())}),[k,K,G]),d.useEffect((function(){if(w&&k.current&&p){var c=k.current.parentElement,d=!1,u=function e(){if("number"==typeof B){var d=B+((null==c?void 0:c.offsetHeight)||0);j.current>B&&j.current<d?v(!0):v(!1)}U.current=window.requestAnimationFrame(e)},f=function r(){if(k.current){var c=b;v(!1),F(k.current.getBoundingClientRect()),v(c)}},m=W((function(){j.current=window.scrollY,d||(U.current=window.requestAnimationFrame(u)),d=!0}),10,{leading:!0,trailing:!1}),h=W((function(){cancelAnimationFrame(U.current),d=!1}),10);return"complete"!==document.readyState?window.addEventListener("load",a):setTimeout(a,10),window.addEventListener("scroll",m),window.addEventListener("scroll",h),window.addEventListener("resize",f),function(){window.removeEventListener("scroll",m),window.removeEventListener("scroll",h),window.removeEventListener("resize",f),cancelAnimationFrame(U.current)}}function a(){if(c){var d=parseInt(q,10),u=rn(c)-d;V(u)}}}),[k,y,B]);var J=Y.useCallback((function(c){c.stopPropagation(),c.preventDefault()}),[]);return Y.createElement(Y.Fragment,null,b&&Y.createElement(Ur,{menuBoundingBox:y}),Y.createElement(Kr,{menuFixedTopOffset:q,menuFixed:b,menuBoundingBox:y,ref:k,"data-testid":"base-menubar"},Y.createElement(tn,null,Y.createElement(Jr,{onMouseDown:J},f,null==m?void 0:m.map((function(c){var d=c.name,u=c.MenuItem;return Y.createElement(u,{key:d,mode:G,editorView:K})}))))),h)}function Ut(c){var d=c.plugins,u=c.uploadImages,p=_(c,["plugins","uploadImages"]);return Y.createElement(Vt,sn({},p,{menus:[Y.createElement(En,null),Y.createElement(oe,null),Y.createElement(xt,null),Y.createElement(He,{uploadImages:u}),Y.createElement(Oe,null),Y.createElement(Me,null),Y.createElement(Kn,null),Y.createElement(we,null),Y.createElement(te,null)],plugins:d}))}function Kt(c){var u=c.imageProps,p=c.onChange,f=c.value,m=c.plugins,h=c.sticky,g=d.useRef(null),b=d.useState(f),v=b[0],w=b[1],k=A().browserFocused;return d.useEffect((function(){var c=g.current;c&&(c.focus({preventScroll:!0}),c.setSelectionRange(c.value.length,c.value.length))}),[]),d.useEffect((function(){var c=g.current;c&&(c.style.height="0",c.style.height=c.scrollHeight+20+"px")})),d.useEffect((function(){var c=g.current===document.activeElement;k&&c||w(f)}),[f]),d.createElement(d.Fragment,null,d.createElement(Ut,{sticky:h,uploadImages:null==u?void 0:u.upload,plugins:m}),d.createElement(Zr,{"data-testid":"markdown-editing-textarea",ref:g,value:v,onChange:function onChange(c){var d=c.target.value;w(d),p(d)},onFocus:function onFocus(c){c.preventDefault(),c.target.focus({preventScroll:!0})}}))}var Pr,Wr,Hr,qr,jr,Ur=Z.div.withConfig({displayName:"MenuPlaceholder",componentId:"sc-tu9yhs"})(Pr=Pr||I(["\n  color: transparent;\n  background: transparent;\n  pointer-events: none;\n  position: relative;\n  display: block;\n  height: ","px;\n  width: ","px;\n"],["\n  color: transparent;\n  background: transparent;\n  pointer-events: none;\n  position: relative;\n  display: block;\n  height: ","px;\n  width: ","px;\n"]),(function(c){return c.menuBoundingBox.height}),(function(c){return c.menuBoundingBox.width})),Kr=Z.div.withConfig({displayName:"MenuWrapper",componentId:"sc-116r3l1"})(Hr=Hr||I(["\n  position: relative;\n  margin-bottom: 14px;\n  z-index: var(--tina-z-index-1);\n\n  ",";\n"],["\n  position: relative;\n  margin-bottom: 14px;\n  z-index: var(--tina-z-index-1);\n\n  ",";\n"]),(function(c){return c.menuFixed&&p.css(Wr=Wr||I(["\n      position: fixed;\n      width: ","px;\n      top: ",";\n    "],["\n      position: fixed;\n      width: ","px;\n      top: ",";\n    "]),c.menuBoundingBox.width,c.menuFixedTopOffset)})),Jr=Z.div.withConfig({displayName:"MenuContainer",componentId:"sc-h5jbbd"})(qr=qr||I(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  position: relative;\n  top: 0;\n  width: 100%;\n  background-color: white;\n  border-radius: var(--tina-radius-small);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  border: 1px solid var(--tina-color-grey-2);\n  overflow: hidden;\n  z-index: var(--tina-z-index-0);\n"],["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  position: relative;\n  top: 0;\n  width: 100%;\n  background-color: white;\n  border-radius: var(--tina-radius-small);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  border: 1px solid var(--tina-color-grey-2);\n  overflow: hidden;\n  z-index: var(--tina-z-index-0);\n"])),Zr=Z.textarea.withConfig({displayName:"EditingSection",componentId:"sc-sztjfh"})(jr=jr||I(["\n  border: none;\n  font-family: monospace;\n  font-size: 16px;\n  margin: 10px 0;\n  resize: none;\n  width: 100%;\n  &:focus {\n    outline: none;\n  }\n"],["\n  border: none;\n  font-family: monospace;\n  font-size: 16px;\n  margin: 10px 0;\n  resize: none;\n  width: 100%;\n  &:focus {\n    outline: none;\n  }\n"]));function rr(c){var d={};for(var u in c)c[u]&&(d["forestry-"+u]=c[u]);return d}function or(c){var d={};for(var u in c)c[u]&&(d[u]=c[u]);return d}function ir(c){return function(d){return sn(sn({},c),ar(d))}}function ar(c){for(var d={},u=c.attributes,p=0;p<u.length;p++){var f=u[p];f.value&&(d[f.name.startsWith("forestry-")?f.name.slice(9):f.name]=f.value)}return d}var Qr={attrs:{level:{default:1},class:{default:""},id:{default:""}},content:"inline*",marks:"_",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:ir({level:1})},{tag:"h2",getAttrs:ir({level:2})},{tag:"h3",getAttrs:ir({level:3})},{tag:"h4",getAttrs:ir({level:4})},{tag:"h5",getAttrs:ir({level:5})},{tag:"h6",getAttrs:ir({level:6})}],toDocument:function toDocument(c){var d=c.attrs;return["h"+d.level,or(_(d,["level"])),0]},toDOM:function toDOM(c){var d=c.attrs;return["h"+d.level,rr(_(d,["level"])),0]}},no={inline:!0,attrs:{src:{},align:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},group:"inline",draggable:!0,allowGapCursor:!0,parseDOM:[{tag:"img[src]",getAttrs:function getAttrs(c){return{src:c.getAttribute("src"),title:c.getAttribute("title"),alt:c.getAttribute("alt"),align:function(c){var d=c.getAttribute("class")||"",u=io.exec(d);return u&&1<u.length?u[1]:null}(c),width:c.getAttribute("width"),height:c.getAttribute("height")}}}],toDOM:function toDOM(c){var d={src:c.attrs.src};return c.attrs.title&&(d.title=c.attrs.title),c.attrs.alt&&(d.alt=c.attrs.alt),c.attrs.width&&(d.width=c.attrs.width),c.attrs.height&&(d.height=c.attrs.height),c.attrs.align&&(d.class="align-"+c.attrs.align),["img",d]}},io=/align-([a-z]*)/,lo={content:"inline*",marks:"_",attrs:{class:{default:""},id:{default:""}},group:"block",parseDOM:[{tag:"p",getAttrs:ar}],toDocument:function toDocument(c){return["p",or(c.attrs),0]},toDOM:function toDOM(c){return["p",rr(c.attrs),0]}},so=F.tableNodes({tableGroup:"block",cellContent:"inline*",cellAttributes:{}});function pr(){}so.table_cell=sn(sn({},so.table_cell),{marks:"_",attrs:sn(sn({},so.table_cell.attrs),{align:{default:null}}),toDOM:function toDOM(c){var d={};return c.attrs.align&&(d.style="text-align: "+c.attrs.align+";"),["td",d,0]}}),so.table_header=sn(sn({},so.table_header),{marks:"_",attrs:sn(sn({},so.table_header.attrs),{align:{default:null}}),toDOM:function toDOM(c){var d={};return c.attrs.align&&(d.style="text-align: "+c.attrs.align+";"),["th",d,0]}});var uo={code:{parseDOM:[{tag:"code"}],toDOM:function toDOM(){return["code"]},excludes:"em strong strike"},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:function getAttrs(c){return"italic"===c&&null}}],toDOM:function toDOM(){return["em"]},excludes:"code"},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function getAttrs(c){return{href:c.getAttribute("href"),title:c.getAttribute("title")}}}],toDOM:function toDOM(c){return["a",c.attrs]},toDocument:function toDocument(c){return["a",c.attrs]}},strike:{parseDOM:[{tag:"strike"},{tag:"s"},{tag:"del"},{style:"text-decoration",getAttrs:function getAttrs(c){return"line-through"===c&&null}}],toDOM:function toDOM(){return["s",0]},excludes:"code"},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function getAttrs(c){return"normal"!=c.style.fontWeight&&null}},{style:"font-weight",getAttrs:function getAttrs(c){return/^(bold(er)?|[5-9]\d{2,})$/.test(c)&&null}}],toDOM:function toDOM(){return["strong"]},excludes:"code"}},mo=sn({doc:{content:"block+"},paragraph:lo,blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function toDOM(){return["blockquote",0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:function getAttrs(c){return{tight:c.hasAttribute("data-tight")}}}],toDOM:function toDOM(c){return["ul",{"data-tight":c.attrs.tight?"true":null},0]}},code_block:{content:"text*",attrs:{params:{default:""}},group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function getAttrs(c){return{params:c.getAttribute("data-params")}}}],toDOM:function toDOM(c){return["pre",{"data-params":c.attrs.params},["code",0]]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function toDOM(){return["br"]}},heading:Qr,horizontal_rule:{group:"block",allowGapCursor:!0,parseDOM:[{tag:"hr"}],toDOM:function toDOM(){return["hr"]}},image:no,list_item:{content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM:function toDOM(){return["li",0]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:function getAttrs(c){return{order:c.hasAttribute("start")?+(c.getAttribute("start")||0):1,tight:c.hasAttribute("data-tight")}}}],toDOM:function toDOM(c){return["ol",{start:1==c.attrs.order?null:c.attrs.order,"data-tight":c.attrs.tight?"true":null},0]}},text:{group:"inline"}},so),ho=(gr.prototype.serialize=function(c,d){void 0===d&&(d={});var u=new bo(this.nodes,this.marks,d);return u.renderContent(c),u.out},gr);function gr(c,d){this.nodes=c,this.marks=d}var go,bo=(wr.prototype.flushClose=function(c){if(this.closed){if(this.atBlank()||(this.out+="\n"),null==c&&(c=2),1<c){var d=this.delim,u=/\s+$/.exec(d);u&&(d=d.slice(0,d.length-u[0].length));for(var p=1;p<c;p++)this.out+=d+"\n"}this.closed=!1}},wr.prototype.wrapBlock=function(c,d,u,p){var f=this.delim;this.write(d||c),this.delim+=c,p(),this.delim=f,this.closeBlock(u)},wr.prototype.atBlank=function(){return/(^|\n)$/.test(this.out)},wr.prototype.ensureNewLine=function(){this.atBlank()||(this.out+="\n")},wr.prototype.write=function(c){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),c&&(this.out+=c)},wr.prototype.closeBlock=function(c){this.closed=c},wr.prototype.text=function(c,d,u){for(var p=c.split("\n"),f=0;f<p.length;f++){var m=this.atBlank()||this.closed;this.write();var h=!1!==d?this.esc(p[f],m):p[f];h=u?u(h):h,this.out+=h,f!=p.length-1&&(this.out+="\n")}},wr.prototype.render=function(c,d,u,p){if("number"==typeof d)throw new Error("!");this.nodes[c.type.name](this,c,d,u,p)},wr.prototype.renderContent=function(c){var d=this;c.forEach((function(u,p,f){return d.render(u,c,f)}))},wr.prototype.renderInline=function(c,d){function n(m,h,g){void 0===g&&(g=0);var b=m?m.marks:[],v=b.findIndex((function(c){return"code"===c.type.name}));0<=v&&1<b.length&&(b=S(b.slice(0,v),b.slice(v+1,b.length),[b[v]]));var w=f;if(f="",m&&m.isText&&b.some((function(c,d,p){var f=u.marks[c.type.name];return!(!f||!f.expelEnclosingWhitespace)}))&&/^(\s*)(.*?)(\s*)$/.test(m.text||"")){var k=Array.from(/^(\s*)(.*?)(\s*)$/.exec(m.text||"")||[]),x=k[1],y=k[2],F=k[3];w+=x,f=F,(x||F)&&((m=y?m.withText(y):null)||(b=p))}var W=b.length&&b[b.length-1],R=W&&!1===u.marks[W.type.name].escape,B=b.length-(R?1:0);n:for(var V=0;V<B;V++){var q=b[V];if(!u.marks[q.type.name].mixable)break;for(var j=0;j<p.length;j++){var U=p[j];if(!u.marks[U.type.name].mixable)break;if(q.eq(U)){j<V?b=b.slice(0,j).concat(q).concat(b.slice(j,V)).concat(b.slice(V+1,B)):V<j&&(b=b.slice(0,V).concat(b.slice(V+1,j)).concat(q).concat(b.slice(j,B)));continue n}}}for(var K=0;K<Math.min(p.length,B)&&b[K].eq(p[K]);)++K;for(;K<p.length;)u.text(u.markString(p.pop(),!1,m),!1);if(w&&u.text(w),m){for(;p.length<B;){var G=b[p.length];p.push(G),u.text(u.markString(G,!0,m),!1)}R&&m.isText&&W?u.text(u.markString(W,!1,m)+m.text+u.markString(W,!0,m),!1,d):u.render(m,c,g,d)}}var u=this,p=[],f="";c.forEach(n),n(null)},wr.prototype.renderList=function(c,d,u){var p=this;this.closed&&this.closed.type==c.type?this.flushClose(3):this.inTightList&&this.flushClose(1);var f=this.options.tightLists,m=this.inTightList;this.inTightList=!!f,c.forEach((function(m,h,g){g&&f&&p.flushClose(1),p.wrapBlock(d,u(g),c,(function(){return p.render(m,c,g)}))})),this.inTightList=m},wr.prototype.esc=function(c,d){return c=c.replace(/[`\\~\[\]]/g,"\\$&"),d&&(c=c.replace(/^[#\-*+]/,"\\$&").replace(/^(\d+)\./,"$1\\.")),c},wr.prototype.quote=function(c){var d=-1==c.indexOf('"')?'""':-1==c.indexOf("'")?"''":"()";return d[0]+c+d[1]},wr.prototype.repeat=function(c,d){for(var u="",p=0;p<d;p++)u+=c;return u},wr.prototype.markString=function(c,d,u){var p=this.marks[c.type.name],f=d?p.open:p.close;return"string"==typeof f?f:f(this,c,u)},wr.prototype.getEnclosingWhitespace=function(c){return{leading:(c.match(/^(\s+)/)||[])[0],trailing:(c.match(/(\s+)$/)||[])[0]}},wr);function wr(c,d,u){this.nodes=c,this.marks=d,this.delim=this.out="",this.closed=!1,this.inTightList=!1,this.options=u||{},void 0===this.options.tightLists&&(this.options.tightLists=!1)}var vo=u(38625),Lo=((go={})["text-align:left"]="left",go["text-align:center"]="center",go["text-align:right"]="right",go),Po={left:":---",center:":---:",right:"---:"},Oo={blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list"},ordered_list:{block:"ordered_list",getAttrs:function getAttrs(c){return{order:+c.attrGet("order")||1}}},heading:{block:"heading",getAttrs:function getAttrs(c){return{level:+c.tag.slice(1)}}},code_block:{block:"code_block"},fence:{block:"code_block",getAttrs:function getAttrs(c){return{params:c.info||""}}},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:function getAttrs(c){return{src:c.attrGet("src"),title:c.attrGet("title")||null,alt:c.children[0]&&c.children[0].content||null,width:c.attrGet("width")||null,height:c.attrGet("height")||null}}},table:{block:"table"},table_row:{block:"table_row"},table_cell:{block:"table_cell",getAttrs:function getAttrs(c){var d="";if(c.attrs)for(var u=0;u<c.attrs.length;u++)"style"===c.attrs[u][0]&&(d=c.attrs[u][1]);return{align:Lo[d]}}},table_header:{block:"table_header",getAttrs:function getAttrs(c){var d="";if(c.attrs)for(var u=0;u<c.attrs.length;u++)"style"===c.attrs[u][0]&&(d=c.attrs[u][1]);return{align:Lo[d]}}},hardbreak:{node:"hard_break"},em:{mark:"em"},strike:{mark:"strike"},strong:{mark:"strong"},link:{mark:"link",getAttrs:function getAttrs(c){return{href:c.attrGet("href"),title:c.attrGet("title")||null}}},code_inline:{mark:"code"}},Do={blockquote:function blockquote(c,d){c.wrapBlock("> ",null,d,(function(){return c.renderContent(d)}))},code_block:function code_block(c,d){d.attrs.params?(c.write("```"+d.attrs.params+"\n"),c.text(d.textContent,!1),c.ensureNewLine(),c.write("```"),c.closeBlock(d)):c.wrapBlock("    ",null,d,(function(){return c.text(d.textContent,!1)}))},heading:function heading(c,d){/\n/.test(d.textContent)&&d.attrs.level<3?(c.renderInline(d),c.write("\n"),c.write(1===d.attrs.level?"=":"-")):(c.write(c.repeat("#",d.attrs.level)+" "),c.renderInline(d)),c.closeBlock(d)},horizontal_rule:function horizontal_rule(c,d){c.write(d.attrs.markup||"***"),c.closeBlock(d)},bullet_list:function bullet_list(c,d){c.renderList(d,"  ",(function(){return(d.attrs.bullet||"*")+" "}))},ordered_list:function ordered_list(c,d){var u=d.attrs.order||1,p=String(u+d.childCount-1).length,f=c.repeat(" ",p+2);c.renderList(d,f,(function(d){var f=String(u+d);return c.repeat(" ",p-f.length)+f+". "}))},list_item:function list_item(c,d){c.renderContent(d)},paragraph:function paragraph(c,d,u,p){c.renderInline(d),c.closeBlock(d)},image:function image(c,d){var u="";(d.attrs.height||d.attrs.width)&&(u=" ="+(d.attrs.width||"")+"x"+(d.attrs.height||""));var p=c.esc(d.attrs.alt||""),f=c.esc(d.attrs.src),m=d.attrs.title?" "+c.quote(d.attrs.title):"";c.write("!["+p+"]("+f+m+u+")")},hard_break:function hard_break(c,d,u,p){if(u&&"number"==typeof p)for(var f=p+1;f<u.childCount;f++)if(u.child(f).type!=d.type)return void c.write("  \n")},text:function text(c,d,u,p,f){"string"==typeof d.text&&c.text(d.text,!0,f)},table:function table(c,d){var u=!0;d.forEach((function(d){var p="table_cell"===d.content.child(0).type.name;if(u&&p){c.write("|");for(var f=0;f<d.childCount;f++){var m=d.content.child(f).attrs.align,h=Po[m]||"---";c.write(" "+h+" |")}c.write("\n"),u=!1}Do.table_row(c,d)})),c.closeBlock(d)},table_row:function table_row(c,d){c.write("|"),c.renderContent(d),c.write("\n")},table_cell:function table_cell(c,d){c.write(" "),c.renderInline(d,(function(c){return c.replace(/[\|]/g,"\\$&")})),c.write(" |")},table_header:function table_header(c,d){Do.table_cell(c,d)}},Fo={em:{open:"_",close:"_",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:function open(c,d,u){return vo(u,"text","").endsWith("*")?d.openedWith="__":"**"},close:function close(c,d,u){if(d.openedWith){var p=d.openedWith;return d.openedWith=null,p}return vo(u,"text","").endsWith("*")?"__":"**"},mixable:!0,expelEnclosingWhitespace:!0},link:{open:"[",close:function close(c,d){return"]("+c.esc(d.attrs.href)+(d.attrs.title?" "+c.quote(d.attrs.title):"")+")"}},strike:{open:"~~",close:"~~",mixable:!0,expelEnclosingWhitespace:!0},code:{open:"`",close:"`",escape:!1}};function Er(c){return new ho(function(c){var d={};return c.nodes.blockquote&&(d.blockquote=Do.blockquote),c.nodes.paragraph&&(d.paragraph=Do.paragraph),c.nodes.list_item&&(d.list_item=Do.list_item),c.nodes.bullet_list&&(d.bullet_list=Do.bullet_list),c.nodes.ordered_list&&(d.ordered_list=Do.ordered_list),c.nodes.heading&&(d.heading=Do.heading),c.nodes.code_block&&(d.code_block=Do.code_block),c.nodes.horizontal_rule&&(d.horizontal_rule=Do.horizontal_rule),c.nodes.image&&(d.image=Do.image),c.nodes.hard_break&&(d.hard_break=Do.hard_break),c.nodes.ordered_list&&(d.ordered_list=Do.ordered_list),c.nodes.bullet_list&&(d.bullet_list=Do.bullet_list),c.nodes.list_item&&(d.list_item=Do.list_item),c.nodes.table&&(d.table=Do.table,d.table_header=Do.table_header,d.table_row=Do.table_row,d.table_cell=Do.table_cell),d.text=Do.text,d}(c),function(c){return c.marks.em,c.marks.strong,c.marks.link,c.marks.code,Fo}(c))}function zr(c,d,u){var p,f=d,m={ok:!1,pos:d};for(p=c.charCodeAt(d);d<u&&48<=p&&p<=57||37===p;)p=c.charCodeAt(++d);return m.ok=!0,m.pos=d,m.value=Number(c.slice(f,d)),m}function Sr(c,d,u){var p,f,m=c.utils.isSpace,h=c.utils.unescapeAll,g=d.src,b=d.posMax,v=u,w={ok:!1,pos:0,lines:0,str:""};if(60===g.charCodeAt(u)){for(u++;u<b;){if(10===(p=g.charCodeAt(u))||m(p))return w;if(62===p)return w.pos=u+1,w.str=h(g.slice(v+1,u)),w.ok=!0,w;92===p&&u+1<b?u+=2:u++}return w}for(f=0;u<b;){if(61==(p=g.charCodeAt(u))||34==p||39==p){u--;break}if(p<32||127===p)break;if(92===p&&u+1<b)u+=2;else{if(40===p&&f++,41===p){if(0===f)break;f--}u++}}return v===u||0!==f||(w.str=h(g.slice(v,u)),w.lines=0,w.pos=u,w.ok=!0),w}function Ir(c){return function(d,u){var p,f,m,h,g,b,v,w,k,x,y=null,F=null,W="",R=d.pos,B=d.posMax;if(33!==d.src.charCodeAt(d.pos))return!1;if(91!==d.src.charCodeAt(d.pos+1))return!1;var V=d.pos+2,q=c.helpers.parseLinkLabel(d,d.pos+1,!1);if(q<0)return!1;if((h=q+1)<B&&40===d.src.charCodeAt(h)){for(h++;h<B&&(32===(f=d.src.charCodeAt(h))||10===f);h++);if(B<=h)return!1;for((b=Sr(c,d,x=h)).ok&&(W=b.str,d.md.validateLink(W)?h=b.pos:W=""),x=h;h<B&&(32===(f=d.src.charCodeAt(h))||10===f);h++);if(b=c.helpers.parseLinkTitle(d.src,h,d.posMax),h<B&&x!==h&&b.ok)for(v=b.str,h=b.pos;h<B&&(32===(f=d.src.charCodeAt(h))||10===f);h++);else v="";if(0<=h-1&&32===(f=d.src.charCodeAt(h-1))&&(b=function(c,d,u){var p,f={ok:!1,pos:0};if(u<=d)return f;if(61!==(p=c.charCodeAt(d)))return f;if(d++,120!==(p=c.charCodeAt(d))&&(p<48||57<p))return f;var m=zr(c,d,u);if(d=m.pos,120!==(p=c.charCodeAt(d)))return f;var h=zr(c,++d,u);return d=h.pos,f.width=m.value,f.height=h.value,f.pos=d,f.ok=!0,f}(d.src,h,d.posMax)).ok)for(y=b.width,F=b.height,h=b.pos;h<B&&(32===(f=d.src.charCodeAt(h))||10===f);h++);if(B<=h||41!==d.src.charCodeAt(h))return d.pos=R,!1;h++}else{if(void 0===d.env.references)return!1;for(;h<B&&(32===(f=d.src.charCodeAt(h))||10===f);h++);if(h<B&&91===d.src.charCodeAt(h)?(x=h+1,0<=(h=c.helpers.parseLinkLabel(d,h))?m=d.src.slice(x,h++):h=q+1):h=q+1,m=m||d.src.slice(V,q),!(g=d.env.references[c.utils.normalizeReference(m)]))return d.pos=R,!1;W=g.href,v=g.title}if(!u){d.pos=V,d.posMax=q;var j=new d.md.inline.State(d.src.slice(V,q),d.md,d.env,k=[]);j.md.inline.tokenize(j),(w=d.push("image","img",0)).attrs=p=[["src",W],["alt",""]],w.children=k,v&&p.push(["title",v]),null!==y&&p.push(["width",y]),null!==F&&p.push(["height",F])}return d.pos=h,d.posMax=B,!0}}function Nr(c){c.inline.ruler.before("emphasis","image",Ir(c))}function Ar(c){c.inline.ruler.before("emphasis","link",function(c){return function(d,u){var p,f,m,h,g,b,v,w=d.md.utils.normalizeReference,k=d.md.utils.isSpace,x="",y=d.pos,F=!0,W=d.pos,R=d.posMax;if(91!==d.src.charCodeAt(d.pos))return!1;var B=d.pos+1,V=d.md.helpers.parseLinkLabel(d,d.pos,!0);if(V<0)return!1;if((h=V+1)<R&&40===d.src.charCodeAt(h)){for(F=!1,h++;h<R&&(k(f=d.src.charCodeAt(h))||10===f);h++);if(R<=h)return!1;for((g=Sr(c,d,y=h)).ok&&(x=g.str,d.md.validateLink(x)?h=g.pos:x=""),y=h;h<R&&(k(f=d.src.charCodeAt(h))||10===f);h++);if(g=d.md.helpers.parseLinkTitle(d.src,h,d.posMax),h<R&&y!==h&&g.ok)for(v=g.str,h=g.pos;h<R&&(k(f=d.src.charCodeAt(h))||10===f);h++);else v="";(R<=h||41!==d.src.charCodeAt(h))&&(F=!0),h++}if(F){if(void 0===d.env.references)return!1;if(h<R&&91===d.src.charCodeAt(h)?(y=h+1,0<=(h=d.md.helpers.parseLinkLabel(d,h))?m=d.src.slice(y,h++):h=V+1):h=V+1,m=m||d.src.slice(B,V),!(b=d.env.references[w(m)]))return d.pos=W,!1;x=b.href,v=b.title}return u||(d.pos=B,d.posMax=V,d.push("link_open","a",1).attrs=p=[["href",x]],v&&p.push(["title",v]),d.md.inline.tokenize(d),d.push("link_close","a",-1)),d.pos=h,d.posMax=R,!0}}(c))}var Wo={strike:"s"},Ro=(Lr.prototype.top=function(){return this.stack[this.stack.length-1]},Lr.prototype.push=function(c){this.stack.length&&this.top().content.push(c)},Lr.prototype.addText=function(c){if(c){var d,u=this.top().content,p=u[u.length-1],f=this.schema.text(c,this.marks);p&&(d=function(c,d){if(c.isText&&d.isText&&V.Mark.sameSet(c.marks,d.marks))return c.copy(c.text+d.text)}(p,f))?u[u.length-1]=d:u.push(f)}},Lr.prototype.openMark=function(c){this.marks=c.addToSet(this.marks)},Lr.prototype.closeMark=function(c){this.marks=c.removeFromSet(this.marks)},Lr.prototype.parseTokens=function(c){for(var d=0;d<c.length;d++){var u=c[d],p=this.tokenHandlers[u.type];if(!p)throw new Error("Token type `"+u.type+"` not supported by Markdown parser");p(this,u)}},Lr.prototype.addNode=function(c,d,u){var p=c.createAndFill(d,u,this.marks);return p?(this.push(p),p):null},Lr.prototype.openNode=function(c,d){this.stack.push({type:c,attrs:d,content:[]})},Lr.prototype.closeNode=function(){this.marks.length&&(this.marks=V.Mark.none);var c=this.stack.pop();if(c)return this.addNode(c.type,c.attrs,c.content)},Lr);function Lr(c,d){this.schema=c,this.stack=[{type:c.topNodeType,content:[]}],this.marks=V.Mark.none,this.tokenHandlers=d}function Or(c,d){return c.getAttrs?c.getAttrs(d):c.attrs instanceof Function?c.attrs(d):c.attrs}function Dr(c){return"code_inline"==c||"code_block"==c||"fence"==c}function Fr(c){return"\n"==c[c.length-1]?c.slice(0,c.length-1):c}function Rr(){}var Bo=(Br.prototype.parse=function(c){var d,u=new Ro(this.schema,this.tokenHandlers);for(u.parseTokens(this.tokenizer.parse(c,{}));d=u.closeNode(),u.stack.length;);return d},Br);function Br(c,d,u){this.tokens=u,this.schema=c,this.tokenizer=d,this.tokenHandlers=function(c,d){function n(p){var f=d[p];if(f.block){var m=c.nodeType(f.block);Dr(p)?u[p]=function(c,d){c.openNode(m,Or(f,d)),c.addText(Fr(d.content)),c.closeNode()}:(u[p+"_open"]=function(c,d){return c.openNode(m,Or(f,d))},u[p+"_close"]=function(c){return c.closeNode()})}else if(f.node){var h=c.nodeType(f.node);u[p]=function(c,d){return c.addNode(h,Or(f,d))}}else if(f.mark){var g=c.marks[f.mark];Dr(p)?u[p]=function(c,d){c.openMark(g.create(Or(f,d))),c.addText(Fr(d.content)),c.closeMark(g)}:(u[(Wo[p]||p)+"_open"]=function(c,d){return c.openMark(g.create(Or(f,d)))},u[(Wo[p]||p)+"_close"]=function(c){return c.closeMark(g)})}else{if(!f.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(f));Dr(p)?u[p]=Rr:(u[p+"_open"]=Rr,u[p+"_close"]=Rr)}}var u=Object.create(null);for(var p in d)n(p);return u.text=function(c,d){return c.addText(d.content)},u.inline=function(c,d){return c.parseTokens(d.children)},u.softbreak=function(c){return c.addText("\n")},u}(c,u)}var $o=u(97804);function $r(c){var d=$o({html:!1});return d.use(Nr),d.use(Ar),new Bo(c,d,function(c){var d={};return c.nodes.blockquote&&(d.blockquote=Oo.blockquote),c.nodes.paragraph&&(d.paragraph=Oo.paragraph),c.nodes.list_item&&(d.list_item=Oo.list_item),c.nodes.bullet_list&&(d.bullet_list=Oo.bullet_list),c.nodes.ordered_list&&(d.ordered_list=Oo.ordered_list),c.nodes.heading&&(d.heading=Oo.heading),c.nodes.code_block&&(d.code_block=Oo.code_block,d.fence=Oo.fence),c.nodes.horizontal_rule&&(d.hr=Oo.hr),c.nodes.image&&(d.image=Oo.image),c.nodes.hard_break&&(d.hardbreak=Oo.hardbreak),c.nodes.ordered_list&&(d.ordered_list=Oo.ordered_list),c.nodes.bullet_list&&(d.bullet_list=Oo.bullet_list),c.nodes.list_item&&(d.list_item=Oo.list_item),c.nodes.table&&(d.table=Oo.table,d.thead={ignore:!0},d.th=Oo.table_header,d.tbody={ignore:!0},d.tr=Oo.table_row,d.td=Oo.table_cell),c.marks.em&&(d.em=Oo.em),c.marks.strong&&(d.strong=Oo.strong),c.marks.link&&(d.link=Oo.link),c.marks.code&&(d.code_inline=Oo.code_inline),c.marks.strike&&(d.strike=Oo.strike),d}(c))}var Ho,Vo=(M(Vr,Ho=pr),Vr.fromSchema=function(c){return Vr.commonMarkFromSchema(c)},Vr.commonMarkFromSchema=function(c){var d=new Vr(c);return d.parser=$r(c),d.serializer=Er(c),d},Vr.prototype.nodeFromString=function(c){return this.parser.parse(c)},Vr.prototype.stringFromNode=function(c){return this.serializer.serialize(c,{tightLists:!0})},Vr);function Vr(c){var d=Ho.call(this)||this;return d.parser=null,d.serializer=null,d.schema=c,d}var qo,jo=(M(Gr,qo=V.DOMSerializer),Gr.nodesFromSchema=function(c){var d=Xr(c.nodes);return d.text||(d.text=function(c){return c.text}),d},Gr.marksFromSchema=function(c){return Xr(c.marks)},Gr);function Gr(){return null!==qo&&qo.apply(this,arguments)||this}function Xr(c){var d={};for(var u in c){var p=c[u].spec.toDocument,f=c[u].spec.toDOM;p?d[u]=p:f&&(d[u]=f)}return d}var Uo,Ko=(M(Yr,Uo=pr),Yr.fromSchema=function(c){return new Yr(c)},Yr.prototype.nodeFromString=function(d){var u;try{u=window.document.createRange().createContextualFragment(d)}catch(c){u=(new DOMParser).parseFromString(d,"text/html")}return this.parser.parse(u)},Yr.prototype.stringFromNode=function(c){var d=document.createElement("div");return d.appendChild(this.serializer.serializeFragment(c.content)),d.innerHTML},Yr);function Yr(c){var d=Uo.call(this)||this;return d.schema=c,d.parser=V.DOMParser.fromSchema(c),d.serializer=jo.fromSchema(c),d}var Go=new v.PluginKey("common"),Jo=new v.Plugin({key:Go,state:{init:function init(){return{editorFocused:!1}},apply:function apply(c,d){return!1===c.getMeta("editor_focused")?{editorFocused:!1}:c.getMeta("editor_focused")?{editorFocused:!0}:d}},props:{handleScrollToSelection:function handleScrollToSelection(){return!0},handleDOMEvents:{focus:function focus(c){var d=c.state;return(0,c.dispatch)(d.tr.setMeta("editor_focused",!0)),!1},blur:function blur(c){var d=c.state;return(0,c.dispatch)(d.tr.setMeta("editor_focused",!1)),!1}}}});function eo(c,d){var u=function(c,d){var u=c.selection,p=u.$from,f=u.$to;return p.blockRange(f,(function(c){return c.type==d}))}(c,c.schema.nodes.blockquote);if(!u)return!1;var p=G.liftTarget(u);return!!p&&(d&&d(c.tr.lift(u,p)),!0)}function to(c,d){var u=c.schema.nodes.horizontal_rule;return d&&d(c.tr.replaceSelectionWith(u.create()).scrollIntoView()),!0}function ro(c){var d=c.nodes.hard_break;return g.chainCommands(g.exitCode,(function(c,u){return u(c.tr.replaceSelectionWith(d.create()).scrollIntoView()),!0}))}function oo(c){return function(d){return vn(d.nodes.heading,{level:c},d.nodes.paragraph,null)}}var Xo=[{__type:"wysiwyg:keymap",name:"Mod-z",command:function command(){return w.undo}},{__type:"wysiwyg:keymap",name:"Backspace",command:function command(){return K.undoInputRule}},{__type:"wysiwyg:keymap",name:"Mod-Shift-z",command:function command(){return w.redo}},{__type:"wysiwyg:keymap",name:"Mod-y",command:function command(){return w.redo},unlessMac:!0},{__type:"wysiwyg:keymap",name:"Tab",command:function command(){return Yo}},{__type:"wysiwyg:keymap",name:"Shift-Tab",command:function command(){return Zo}},{__type:"wysiwyg:keymap",name:"Mod-b",ifMark:"strong",command:function command(c){return g.toggleMark(c.marks.strong)}},{__type:"wysiwyg:keymap",name:"Mod-i",ifMark:"em",command:function command(c){return g.toggleMark(c.marks.em)}},{__type:"wysiwyg:keymap",name:"Mod-k",ifMark:"link",command:function command(){return function(c,d){return kt(c,d)}}},{__type:"wysiwyg:keymap",name:"Mod-Enter",command:ro,ifNode:"hard_break"},{__type:"wysiwyg:keymap",name:"Shift-Enter",command:ro,ifNode:"hard_break"},{__type:"wysiwyg:keymap",name:"Ctrl-Enter",command:ro,ifNode:"hard_break",ifMac:!0},{__type:"wysiwyg:keymap",name:"Mod-Alt-1",command:oo(1),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-2",command:oo(2),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-3",command:oo(3),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-4",command:oo(4),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-5",command:oo(5),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-6",command:oo(6),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Backspace",command:function command(){return bn},ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-7",command:function command(){return be},ifNode:"ordered_list"},{__type:"wysiwyg:keymap",name:"Mod-Alt-8",command:function command(){return ge},ifNode:"bullet_list"},{__type:"wysiwyg:keymap",name:"Mod-Alt-9",command:function command(c){return k.liftListItem(c.nodes.list_item)},onCondition:function onCondition(c){return!(!c.nodes.bullet_list&&!c.nodes.ordered_list)}},{__type:"wysiwyg:keymap",name:"Mod-Alt-0",command:function command(c){return g.setBlockType(c.nodes.code_block)},ifNode:"code_block"},{__type:"wysiwyg:keymap",name:"ArrowLeft",command:function command(){return ao("left")},ifNodes:["code_block","table"]},{__type:"wysiwyg:keymap",name:"ArrowRight",command:function command(){return ao("right")},ifNodes:["code_block","table"]},{__type:"wysiwyg:keymap",name:"ArrowUp",command:function command(){return ao("up")},ifNodes:["code_block","table"]},{__type:"wysiwyg:keymap",name:"ArrowDown",command:function command(){return ao("down")},ifNodes:["code_block","table"]},{__type:"wysiwyg:keymap",name:"Mod-0",ifMark:"code",command:function command(c){return g.toggleMark(c.marks.code)}},{__type:"wysiwyg:keymap",name:"Mod->",ifNode:"blockquote",command:function command(c){return g.wrapIn(c.nodes.blockquote)}},{__type:"wysiwyg:keymap",name:"Mod-<",ifNode:"blockquote",command:function command(){return eo}},{__type:"wysiwyg:keymap",name:"Mod-Alt-9",ifNode:"paragraph",command:function command(c){return g.setBlockType(c.nodes.paragraph)}},{__type:"wysiwyg:keymap",name:"Shift-Ctrl-0",ifNode:"paragraph",command:function command(c){return g.setBlockType(c.nodes.paragraph)}},{__type:"wysiwyg:keymap",name:"Mod-Enter",ifNode:"horizontal_rule",command:function command(){return to}},{__type:"wysiwyg:keymap",name:"Enter",ifNode:"list_item",command:function command(c){return k.splitListItem(c.nodes.list_item)}},{__type:"wysiwyg:keymap",name:"Tab",ifNode:"list_item",command:function command(c){return k.sinkListItem(c.nodes.list_item)}},{__type:"wysiwyg:keymap",name:"Shift-Tab",ifNode:"list_item",command:function command(c){return k.liftListItem(c.nodes.list_item)}}];function ao(c){return function(d,u,p){if(p.endOfTextblock(c)){var f="left"==c||"up"==c?-1:1,m=d.selection.$head,h=v.Selection.near(d.doc.resolve(0<f?m.after():m.before()),f);if(h.$head){var g=h.$head.parent.type.name;if("code_block"==g||"table_header"===g||"table_cell"===g)return u(d.tr.setSelection(h)),!0}}return!1}}var Yo=co(1),Zo=co(-1);function co(c){return function(d,u){var p=d.schema.nodes.table;return!!x.findParentNodeOfType(p)(d.selection)&&(F.goToNextCell(1*c)(d,u),!0)}}var Qo="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function po(c){return new RegExp("(^|[^"+c+"])"+c+"([^\r\n\t\f"+c+" ](.*[^\r\n\t\f"+c+" ])?)"+c)}var ni=function fo(c){return new RegExp(""+c+c+"([^\r\n\t\f"+c+"} ](.*[^\r\n\t\f"+c+" ])?)"+c+c)},ei=ni("\\*"),ti=po("\\*"),ri=ni("~"),oi=po("_"),ii=po("`");function wo(c){var d,u,p=[];return(d=c.nodes.blockquote)&&p.push(function(c){return K.wrappingInputRule(/^\s*>\s$/,c)}(d)),(d=c.nodes.ordered_list)&&p.push(function(c){return K.wrappingInputRule(/^(\d+)\.\s$/,c,(function(c){return{order:+c[1]}}),(function(c,d){return d.childCount+d.attrs.order==+c[1]}))}(d)),(d=c.nodes.bullet_list)&&p.push(function(c){return K.wrappingInputRule(/^\s*([-+*])\s$/,c)}(d)),(d=c.nodes.code_block)&&p.push(function(c){return K.textblockTypeInputRule(/^```([a-zA-Z]*)? $/,c,(function(c){var d=c[1];return d?{params:d}:{}}))}(d)),(d=c.nodes.heading)&&p.push(function(c,d){return K.textblockTypeInputRule(new RegExp("^(#{1,"+d+"})\\s$"),c,(function(c){return{level:c[1].length}}))}(d,6)),(d=c.nodes.horizontal_rule)&&p.push(function(c){return new K.InputRule(/^(---|___|\*\*\*)$/,(function(d,u,p,f){return d.tr.replaceRangeWith(p,f,c.create())}))}(d)),(u=c.marks.strong)&&(p.push(function(c){return ko(ei,c,{})}(u)),p.push(function(c){return ko(ni("_"),c,{})}(u))),(u=c.marks.strike)&&p.push(function(c){return ko(ri,c,{})}(u)),(u=c.marks.em)&&(p.push(function(c){return xo(ti,c,{})}(u)),p.push(function(c){return xo(oi,c,{})}(u))),(u=c.marks.code)&&p.push(function(c){return xo(ii,c,{})}(u)),p}function ko(c,d,u){return new K.InputRule(c,(function(c,p,f,m){var h=u instanceof Function?u(p):u,g=c.tr;if(p[1]){var b=f+p[0].indexOf(p[1]),v=b+p[1].length;v<m&&g.delete(v,m),f<b&&g.delete(f,b),m=f+p[1].length}return g.addMark(f,m,d.create(h)),g.removeStoredMark(d),g}))}function xo(c,d,u){var p=function(c,d){return function(u,p,f,m,h){var g=d instanceof Function?d(f):d,b=u.tr,v=f[1].length;if(f[2]){var w=m+1+v,k=w+f[2].length,x=[w-1,w],y=[k,k+(function(c,d){try{return c.doc.textBetween(d+1,d+2)}catch(c){return""}}(u,k)?0:1)];b.delete.apply(b,y),b.delete.apply(b,x),h=m+f[2].length+v}return b.addMark(m+v,h,c.create(g)),b.removeStoredMark(c),p&&p(b),b}}(d,u);return new K.InputRule(c,(function(c,d,u,f){return p(c,null,d,u,f)}))}function yo(c,d,u,p){var f=[Jo,Ze,function(c){return K.inputRules({rules:wo(c)})}(c),U.keymap(function(c){var d=sn({},g.baseKeymap);function o(c,u){d[c]&&(u=g.chainCommands(u,d[c])),d[c]=u}return o("Enter",g.chainCommands(g.createParagraphNear,g.liftEmptyBlock,g.splitBlock)),function(c,d){return d.filter(function(c){return function(d){return d.__type===c}}(c))}("wysiwyg:keymap",Xo).forEach((function(d){var u=!1;d.unlessMac&&Qo&&(u=!0),d.ifMark&&!c.marks[d.ifMark]&&(u=!0),d.ifNode&&!c.nodes[d.ifNode]&&(u=!0),d.ifNodes&&!d.ifNodes.some((function(d){return c.nodes[d]}))&&(u=!0),d.onCondition&&!d.onCondition(c)&&(u=!0),u||o(d.name,d.command(c))})),d}(c)),w.history(),function(){var c;return new v.Plugin({key:Zt,state:{init:function init(){return{showLinkForm:!1}},apply:function apply(c,d,u){return!1===c.getMeta("show_link_toolbar")?{show_link_toolbar:!1}:c.getMeta("show_link_toolbar")?{show_link_toolbar:!0}:d}},props:{transformPasted:function transformPasted(d){return c?d:new V.Slice(Yt(d.content),d.openStart,d.openEnd)},handleKeyDown:function handleKeyDown(d,u){return c=u.shiftKey,!1},handleClickOn:function handleClickOn(c,d){(0,c.dispatch)(c.state.tr.setMeta("show_link_toolbar",!1))}}})}(),q.dropCursor({width:2,color:"rgb(0, 132, 255)"}),j.gapCursor(),F.tableEditing(),mt,Ue];return p&&f.push(function(c){var d=c.previewSrc,u=c.upload;return new v.Plugin({key:Pt,state:{init:function init(){return{selectedImage:void 0}},apply:function apply(c,d,u,p){if(0<c.getMeta("loading_images")){for(var f=c.getMeta("loading_images"),m=document.createElement("div"),h=0;h<f;h++){var g=document.createElement("div");g.classList.add("image_loading_indicator"),m.appendChild(g)}return sn(sn({},d),{deco:y.DecorationSet.create(p.doc,[y.Decoration.widget(p.selection.$to.pos,m)])})}if(0===c.getMeta("loading_images"))return sn(sn({},d),{deco:void 0});if(d&&d.selectedImage){var b=d.selectedImage.pos;if(!c.doc.nodeAt(b))return sn(sn({},d),{selectedImage:void 0})}var v=c.getMeta("image_clicked");return v?sn(sn({},d),{selectedImage:v}):!1===v?sn(sn({},d),{selectedImage:void 0}):d}},props:{nodeViews:{image:function image(c,u){return new gt(c,u,d)}},decorations:function decorations(c){return this.getState(c).deco},handleKeyDown:function handleKeyDown(c,d){var u=c.state,p=c.dispatch,f=u.selection,m=u.schema;if("Escape"===d.key)p(u.tr.setMeta("image_clicked",!1));else{if("Backspace"===d.key&&f.$to.nodeBefore&&f.$to.nodeBefore.type===m.nodes.image)return Be(u,p,f.$to.pos-1),!0;if("Delete"===d.key&&f.$to.nodeAfter&&f.$to.nodeAfter.type===m.nodes.image)return Be(u,p,f.$to.pos),!0}return!1},handleClickOn:function handleClickOn(c,d,u,p,f,m){if(!m)return!1;var h=c.state,g=c.dispatch,b=c.state.schema.nodes.image;return u.type===b?g(h.tr.setMeta("image_clicked",{pos:p,node:u})):g(h.tr.setMeta("image_clicked",!1)),!1},handleDrop:function handleDrop(c,d,p,f){if(f||!u)return!1;d.preventDefault();var m=d.dataTransfer;return!!m&&qe(c,m,u)},handlePaste:function handlePaste(c,d){if(!u)return!1;d.preventDefault();var p=d.clipboardData;return!!p&&qe(c,p,u)}}})}(p)),v.EditorState.create({schema:c,doc:d.nodeFromString(u),plugins:f})}function Co(c,d,u,p,f){var m=new V.Schema({nodes:mo,marks:uo}),h=function(c,d){return void 0===d&&(d="markdown"),"html"===d?Ko.fromSchema(c):Vo.fromSchema(c)}(m,f);if(!d)return{};var g=new y.EditorView(d,{state:yo(m,h,c.value,p),dispatchTransaction:function dispatchTransaction(d){var p=g.state.apply(d);g.updateState(p),u({view:g}),d.docChanged&&!d.getMeta("input-update")&&c.onChange(h.stringFromNode(d.doc))}}),b=g.state,w=g.dispatch,k=b.tr,x=b.doc;return w(k.setSelection(new v.TextSelection(x.resolve(x.content.size)||0))),g.focus(),u({view:g}),{translator:h}}function Mo(c,d){var u=c.state,p=c.dispatch,f=u.selection,m=u.schema.nodes,h=m.table,g=m.table_cell,b=m.table_header,v=x.findParentNodeOfType(g)(u.selection),w=x.findParentNodeOfType(b)(u.selection),k=v||w;if(k){var y=k.node.attrs.align===d?void 0:d,W=x.findParentNodeOfType(h)(u.selection);if(W){var R=F.TableMap.get(W.node),B=Object.entries(R.map).find((function(c){return c[1]>f.head-W.start}));if(B){var V=(parseInt(B[0])-1)%R.width;p(x.forEachCellInColumn(V,(function(c,d){return x.setCellAttrs(c,{align:y})(d)}))(u.tr)),c.focus()}}}}function _o(){var c=H().editorView;if(!c)return null;var u=c.view,p=u.state,f=u.dispatch;if(document.getElementsByClassName("tina_table_header_ext_top_left_selected")[0])return null;for(var h,g=document.getElementsByClassName("tina_table_header_ext_top_selected")[0],v=document.getElementsByClassName("tina_table_header_ext_left"),w=1;w<v.length;w++)v[w].classList.contains("tina_table_header_ext_left_selected")&&(h=v[w]);if(!g&&!h)return null;var k=c.view;return d.createElement(d.Fragment,null,g&&b.createPortal(d.createElement(_i,null,d.createElement(R.IconButton,{onClick:function onClick(){return Mo(k,"left")},small:!0,primary:!0},d.createElement(m.AlignLeft,null)),d.createElement(R.IconButton,{onClick:function onClick(){return Mo(k,"center")},small:!0,primary:!0},d.createElement(m.AlignCenter,null)),d.createElement(R.IconButton,{onClick:function onClick(){return Mo(k,"right")},small:!0,primary:!0},d.createElement(m.AlignRight,null)),d.createElement(R.IconButton,{onClick:function onClick(){F.deleteColumn(p,f),k.focus()},small:!0,primary:!0},d.createElement(m.TrashIcon,null))),g),h&&b.createPortal(d.createElement(Mi,null,d.createElement(R.IconButton,{onClick:function onClick(){F.deleteRow(p,f),k.focus()},small:!0,primary:!0},d.createElement(m.TrashIcon,null))),h))}function Eo(c){var u=c.index,p=c.marker,f=c.tableHeight,h=c.view,g=h.state,v=h.dispatch,w=d.useState(!1),k=w[0],y=w[1];return d.useEffect((function(){p.style.zIndex=k?"1000":"1"}),[k]),b.createPortal(Y.createElement(Y.Fragment,null,Y.createElement(Ei,{onMouseEnter:function onMouseEnter(){return y(!0)},onMouseLeave:function onMouseLeave(){return y(!1)}},k?Y.createElement(zi,null,Y.createElement(R.IconButton,{onClick:function onClick(){!function(c){v(x.addColumnAt(c)(g.tr)),h.focus()}(u),y(!1)},small:!0,primary:!0},Y.createElement(m.AddIcon,null))):Y.createElement(Ii,null)),k&&Y.createElement(Si,{height:f})),p)}function zo(c){var u=c.index,p=c.marker,f=c.tableWidth,h=c.view,g=h.state,v=h.dispatch,w=d.useState(!1),k=w[0],y=w[1];return d.useEffect((function(){p.style.zIndex=k?"1000":"1"}),[k]),b.createPortal(Y.createElement(Y.Fragment,null,Y.createElement(Ai,{onMouseEnter:function onMouseEnter(){return y(!0)},onMouseLeave:function onMouseLeave(){return y(!1)}},k&&0<u?Y.createElement(Ti,null,Y.createElement(R.IconButton,{onClick:function onClick(){return function(c){if(1<c)v(x.addRowAt(c,!0)(g.tr));else{var d=g.schema.nodes,u=d.table,p=d.table_cell,f=d.table_row,m=x.findParentNodeOfType(u)(g.selection);if(!m)return;var b=F.TableMap.get(m.node),w=m.start+b.map[b.width]-1,k=x.getCellsInRow(0)(g.selection);if(!k)return;var y=null==k?void 0:k.map((function(c){return p.createAndFill(sn({},c.node.attrs))}));v(g.tr.insert(w,f.create(null,y)))}h.focus()}(u)},small:!0,primary:!0},Y.createElement(m.AddIcon,null))):Y.createElement(Ni,null)),k&&Y.createElement(Li,{width:f})),p)}function So(){var c=H().editorView;if(!c)return null;var d=document.getElementsByClassName("tina_table_header_ext_top_left");if(!d.length)return null;var u=d[0].closest("table");if(!u)return null;for(var p=u.getBoundingClientRect(),f=p.height,m=p.width,h=document.getElementsByClassName("tina_table_header_ext_top"),g=[d[0]],b=0;b<h.length;b++)g.push(h[b]);var v=document.getElementsByClassName("tina_table_header_ext_left"),w=[d[0]];for(b=0;b<v.length;b++)w.push(v[b]);var k=c.view;return Y.createElement(Y.Fragment,null,g.map((function(c,d){return Y.createElement(Eo,{key:"add-column-menu-"+d,index:d,marker:c,tableHeight:f,view:k})})),w.map((function(c,d){return Y.createElement(zo,{key:"add-row-menu-"+d,index:d,marker:c,tableWidth:m,view:k})})))}function Io(){var c=H().editorView;if(!c)return null;var d=c.view,u=document.getElementsByClassName("tina_table_header_ext_top_left_selected");if(!u.length)return null;var p=u[0].closest("table");if(!p)return null;var f=p.getBoundingClientRect(),h=f.height,g=f.width;return Q.createPortal(Y.createElement(Pi,{height:h,width:g},Y.createElement(R.IconButton,{onClick:function onClick(){var c=d.state,u=d.dispatch;F.deleteTable(c,u),d.focus()},small:!0,primary:!0},Y.createElement(m.TrashIcon,null))),u[0])}function No(){return d.createElement(d.Fragment,null,d.createElement(_o,null),d.createElement(So,null),d.createElement(Io,null))}function Ao(c){var d=c.plugins,u=c.imageProps,p=_(c,["plugins","imageProps"]);return H().editorView?Y.createElement(Vt,sn({},p,{menus:[Y.createElement(kn,{key:"BlockMenu"}),Y.createElement(re,{key:"InlineMenu"}),Y.createElement(nr,{key:"LinkMenu"}),Y.createElement($e,{key:"ImageMenu",imageProps:u}),Y.createElement(ht,{key:"TableMenu"}),Y.createElement(at,{key:"QuoteMenu"}),Y.createElement(xe,{key:"CodeBlockMenu"}),Y.createElement(ve,{key:"ListMenu"}),Y.createElement(ee,{key:"HistoryMenu"})],popups:[Y.createElement(No,{key:"TablePopups"}),Y.createElement(je,{key:"ImageEditPopup"}),Y.createElement(Et,{key:"LinkFormPopup"}),Y.createElement(Ve,{key:"ImageLoader"})],plugins:d})):null}function To(c){var u=c.imageProps,p=c.input,m=c.form,h=c.plugins,g=void 0===h?[]:h,b=c.format,v=void 0===b?"markdown":b,w=c.sticky,k=c.className,x=f.useCMS(),y=p.value,F=p.onChange,W="markdown"===v?S(g,[Ri]):g,R=function(c,u,p){var f=d.useState(),m=f[0],h=f[1];return d.useMemo((function(){if(p){var d=p.uploadDir,f=p.parse,m=d&&u?d(u.values):"";h(sn({upload:function upload(d){return E(this,void 0,void 0,(function(){var u;return z(this,(function(p){switch(p.label){case 0:return u=d.map((function(c){return{directory:m,file:c}})),[4,c.media.persist(u)];case 1:return[2,p.sent().map((function(c){return f?f(c):c.filename}))]}}))}))},previewSrc:function previewSrc(d){return c.media.previewSrc(d)},mediaDir:m},p))}}),[c.media.store,null==p?void 0:p.uploadDir,null==p?void 0:p.previewSrc,null==p?void 0:p.upload]),m}(x,m,u);return d.createElement(T,null,d.createElement(yn,null,(function(c){var u=c.mode;return d.createElement(N,null,d.createElement(Bi,null,"markdown"===u?d.createElement(Kt,{value:y,onChange:F,imageProps:R,plugins:W,sticky:w}):d.createElement(Fi,{input:{value:y,onChange:F},plugins:W,sticky:w,format:v,imageProps:R,className:k})))})))}var ai,li,si,ci,di,ui,pi,fi,mi,gi,bi,vi,wi,ki,xi,yi,Ci,_i=Z.span.withConfig({displayName:"IconWrapperCol",componentId:"sc-edtzfc"})(ai=ai||I(["\n  display: flex;\n  left: 50%;\n  position: absolute;\n  top: -8px;\n  transform: translate3d(-50%, -100%, 0);\n  button:not(:first-of-type) {\n    margin-left: 10px;\n  }\n"],["\n  display: flex;\n  left: 50%;\n  position: absolute;\n  top: -8px;\n  transform: translate3d(-50%, -100%, 0);\n  button:not(:first-of-type) {\n    margin-left: 10px;\n  }\n"])),Mi=Z.span.withConfig({displayName:"IconWrapperRow",componentId:"sc-hxnxcg"})(li=li||I(["\n  position: absolute;\n  top: 50%;\n  left: -8px;\n  transform: translate3d(-100%, -50%, 0);\n"],["\n  position: absolute;\n  top: 50%;\n  left: -8px;\n  transform: translate3d(-100%, -50%, 0);\n"])),Ei=Z.div.withConfig({displayName:"Wrapper",componentId:"sc-1vtehjb"})(si=si||I(["\n  top: -7px;\n  position: absolute;\n  right: 0;\n  padding: 8px;\n  transform: translate3d(50%, -100%, 0);\n  user-select: none;\n"],["\n  top: -7px;\n  position: absolute;\n  right: 0;\n  padding: 8px;\n  transform: translate3d(50%, -100%, 0);\n  user-select: none;\n"])),Ii=Z.div.withConfig({displayName:"Pointer",componentId:"sc-1ekxmgv"})(ci=ci||I(["\n  background: #e1ddec;\n  border-radius: 50%;\n  height: 4px;\n  width: 4px;\n"],["\n  background: #e1ddec;\n  border-radius: 50%;\n  height: 4px;\n  width: 4px;\n"])),zi=Z.span.withConfig({displayName:"IconWrapperCol",componentId:"sc-2wocg0"})(di=di||I(["\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translate3d(-50%, -50%, 0);\n"],["\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translate3d(-50%, -50%, 0);\n"])),Si=Z.div.withConfig({displayName:"ColumnDivider",componentId:"sc-1lt38ex"})(ui=ui||I(["\n  position: absolute;\n  background: #0574e4;\n  top: ","px;\n  z-index: 1000;\n  right: ","px;\n  width: ","px;\n  height: ",";\n"],["\n  position: absolute;\n  background: #0574e4;\n  top: ","px;\n  z-index: 1000;\n  right: ","px;\n  width: ","px;\n  height: ",";\n"]),-1,-1,2,(function(c){return c.height+12-1+"px"})),Ai=Z.div.withConfig({displayName:"Wrapper",componentId:"sc-1rl1wuj"})(pi=pi||I(["\n  left: -7px;\n  position: absolute;\n  bottom: 0;\n  padding: 8px;\n  transform: translate3d(-100%, 50%, 0);\n  user-select: none;\n"],["\n  left: -7px;\n  position: absolute;\n  bottom: 0;\n  padding: 8px;\n  transform: translate3d(-100%, 50%, 0);\n  user-select: none;\n"])),Ni=Z.div.withConfig({displayName:"Pointer",componentId:"sc-17ax6bf"})(fi=fi||I(["\n  background: #e1ddec;\n  border-radius: 50%;\n  height: 4px;\n  width: 4px;\n"],["\n  background: #e1ddec;\n  border-radius: 50%;\n  height: 4px;\n  width: 4px;\n"])),Ti=Z.span.withConfig({displayName:"IconWrapperRow",componentId:"sc-1uzn9ci"})(mi=mi||I(["\n  position: absolute;\n  top: 50%;\n  left: 0;\n  transform: translate3d(-50%, -50%, 0);\n"],["\n  position: absolute;\n  top: 50%;\n  left: 0;\n  transform: translate3d(-50%, -50%, 0);\n"])),Li=Z.div.withConfig({displayName:"ColumnDivider",componentId:"sc-18b8l6o"})(gi=gi||I(["\n  position: absolute;\n  background: #0574e4;\n  left: ","px;\n  z-index: var(--tina-z-index-1);\n  bottom: ","px;\n  height: ","px;\n  width: ",";\n"],["\n  position: absolute;\n  background: #0574e4;\n  left: ","px;\n  z-index: var(--tina-z-index-1);\n  bottom: ","px;\n  height: ","px;\n  width: ",";\n"]),-1,-1,2,(function(c){return c.width+12-1+"px"})),Pi=Z.div.withConfig({displayName:"Wrapper",componentId:"sc-fz0rhe"})(bi=bi||I(["\n  background-color: #ffffff;\n  border-radius: 2px;\n  cursor: default;\n  padding: 0px 4px;\n  position: absolute;\n  top: ",";\n  left: ",";\n"],["\n  background-color: #ffffff;\n  border-radius: 2px;\n  cursor: default;\n  padding: 0px 4px;\n  position: absolute;\n  top: ",";\n  left: ",";\n"]),(function(c){return c.height+24+"px"}),(function(c){return c.width/2-8+"px"})),Oi=p.css(vi=vi||I(["\n  white-space: pre-wrap;\n\n  .CodeMirror {\n    font-family: monospace;\n    height: auto;\n    width: 100%;\n    border-radius: 5px;\n    margin-bottom: 16px;\n    color: black;\n    direction: ltr;\n  }\n\n  .CodeMirror-lines {\n    padding: 4px 0; /* Vertical padding around content */\n  }\n  .CodeMirror pre.CodeMirror-line,\n  .CodeMirror pre.CodeMirror-line-like {\n    padding: 0 4px; /* Horizontal padding of content */\n  }\n\n  .CodeMirror-scrollbar-filler,\n  .CodeMirror-gutter-filler {\n    background-color: white; /* The little square between H and V scrollbars */\n  }\n\n  /* GUTTER */\n\n  .CodeMirror-gutters {\n    border-right: 1px solid #ddd;\n    background-color: #f7f7f7;\n    white-space: nowrap;\n  }\n  .CodeMirror-linenumbers {\n  }\n  .CodeMirror-linenumber {\n    padding: 0 3px 0 5px;\n    min-width: 20px;\n    text-align: right;\n    color: #999;\n    white-space: nowrap;\n  }\n\n  .CodeMirror-guttermarker {\n    color: black;\n  }\n  .CodeMirror-guttermarker-subtle {\n    color: #999;\n  }\n\n  /* CURSOR */\n\n  .CodeMirror-cursor {\n    border-left: 1px solid black;\n    border-right: none;\n    width: 0;\n  }\n  /* Shown when moving in bi-directional text */\n  .CodeMirror div.CodeMirror-secondarycursor {\n    border-left: 1px solid silver;\n  }\n  .cm-fat-cursor .CodeMirror-cursor {\n    width: auto;\n    border: 0 !important;\n    background: #7e7;\n  }\n  .cm-fat-cursor div.CodeMirror-cursors {\n    z-index: 1;\n  }\n  .cm-fat-cursor-mark {\n    background-color: rgba(20, 255, 20, 0.5);\n    -webkit-animation: blink 1.06s steps(1) infinite;\n    -moz-animation: blink 1.06s steps(1) infinite;\n    animation: blink 1.06s steps(1) infinite;\n  }\n  .cm-animate-fat-cursor {\n    width: auto;\n    border: 0;\n    -webkit-animation: blink 1.06s steps(1) infinite;\n    -moz-animation: blink 1.06s steps(1) infinite;\n    animation: blink 1.06s steps(1) infinite;\n    background-color: #7e7;\n  }\n  @-moz-keyframes blink {\n    0% {\n    }\n    50% {\n      background-color: transparent;\n    }\n    100% {\n    }\n  }\n  @-webkit-keyframes blink {\n    0% {\n    }\n    50% {\n      background-color: transparent;\n    }\n    100% {\n    }\n  }\n  @keyframes blink {\n    0% {\n    }\n    50% {\n      background-color: transparent;\n    }\n    100% {\n    }\n  }\n\n  /* Can style cursor different in overwrite (non-insert) mode */\n  .CodeMirror-overwrite .CodeMirror-cursor {\n  }\n\n  .cm-tab {\n    display: inline-block;\n    text-decoration: inherit;\n  }\n\n  .CodeMirror-rulers {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: -50px;\n    bottom: 0;\n    overflow: hidden;\n  }\n  .CodeMirror-ruler {\n    border-left: 1px solid #ccc;\n    top: 0;\n    bottom: 0;\n    position: absolute;\n  }\n\n  /* DEFAULT THEME */\n\n  .cm-s-default .cm-header {\n    color: blue;\n  }\n  .cm-s-default .cm-quote {\n    color: #090;\n  }\n  .cm-negative {\n    color: #d44;\n  }\n  .cm-positive {\n    color: #292;\n  }\n  .cm-header,\n  .cm-strong {\n    font-weight: bold;\n  }\n  .cm-em {\n    font-style: italic;\n  }\n  .cm-link {\n    text-decoration: underline;\n  }\n  .cm-strikethrough {\n    text-decoration: line-through;\n  }\n\n  .cm-s-default .cm-keyword {\n    color: #708;\n  }\n  .cm-s-default .cm-atom {\n    color: #219;\n  }\n  .cm-s-default .cm-number {\n    color: #164;\n  }\n  .cm-s-default .cm-def {\n    color: #00f;\n  }\n  .cm-s-default .cm-variable,\n  .cm-s-default .cm-punctuation,\n  .cm-s-default .cm-property,\n  .cm-s-default .cm-operator {\n  }\n  .cm-s-default .cm-variable-2 {\n    color: #05a;\n  }\n  .cm-s-default .cm-variable-3,\n  .cm-s-default .cm-type {\n    color: #085;\n  }\n  .cm-s-default .cm-comment {\n    color: #a50;\n  }\n  .cm-s-default .cm-string {\n    color: #a11;\n  }\n  .cm-s-default .cm-string-2 {\n    color: #f50;\n  }\n  .cm-s-default .cm-meta {\n    color: #555;\n  }\n  .cm-s-default .cm-qualifier {\n    color: #555;\n  }\n  .cm-s-default .cm-builtin {\n    color: #30a;\n  }\n  .cm-s-default .cm-bracket {\n    color: #997;\n  }\n  .cm-s-default .cm-tag {\n    color: #170;\n  }\n  .cm-s-default .cm-attribute {\n    color: #00c;\n  }\n  .cm-s-default .cm-hr {\n    color: #999;\n  }\n  .cm-s-default .cm-link {\n    color: #00c;\n  }\n\n  .cm-s-default .cm-error {\n    color: #f00;\n  }\n  .cm-invalidchar {\n    color: #f00;\n  }\n\n  .CodeMirror-composing {\n    border-bottom: 2px solid;\n  }\n\n  /* Default styles for common addons */\n\n  div.CodeMirror span.CodeMirror-matchingbracket {\n    color: #0b0;\n  }\n  div.CodeMirror span.CodeMirror-nonmatchingbracket {\n    color: #a22;\n  }\n  .CodeMirror-matchingtag {\n    background: rgba(255, 150, 0, 0.3);\n  }\n  .CodeMirror-activeline-background {\n    background: #e8f2ff;\n  }\n\n  /* STOP */\n\n  /* The rest of this file contains styles related to the mechanics of\n    the editor. You probably shouldn't touch them. */\n\n  .CodeMirror {\n    position: relative;\n    overflow: hidden;\n    background: white;\n  }\n\n  .CodeMirror-scroll {\n    overflow: scroll !important; /* Things will break if this is overridden */\n    /* 30px is the magic margin used to hide the element's real scrollbars */\n    /* See overflow: hidden in .CodeMirror */\n    margin-bottom: -30px;\n    margin-right: -30px;\n    padding-bottom: 30px;\n    height: 100%;\n    outline: none; /* Prevent dragging from highlighting the element */\n    position: relative;\n  }\n  .CodeMirror-sizer {\n    position: relative;\n    min-height: auto;\n    border-right: 30px solid transparent;\n  }\n\n  /* The fake, visible scrollbars. Used to force redraw during scrolling\n    before actual scrolling happens, thus preventing shaking and\n    flickering artifacts. */\n  .CodeMirror-vscrollbar,\n  .CodeMirror-hscrollbar,\n  .CodeMirror-scrollbar-filler,\n  .CodeMirror-gutter-filler {\n    position: absolute;\n    z-index: 6;\n    display: none;\n  }\n  .CodeMirror-vscrollbar {\n    right: 0;\n    top: 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n  }\n  .CodeMirror-hscrollbar {\n    bottom: 0;\n    left: 0;\n    overflow-y: hidden;\n    overflow-x: scroll;\n  }\n  .CodeMirror-scrollbar-filler {\n    right: 0;\n    bottom: 0;\n  }\n  .CodeMirror-gutter-filler {\n    left: 0;\n    bottom: 0;\n  }\n\n  .CodeMirror-gutters {\n    position: absolute;\n    left: 0;\n    top: 0;\n    min-height: 100%;\n    z-index: 3;\n  }\n  .CodeMirror-gutter {\n    white-space: normal;\n    height: 100%;\n    display: inline-block;\n    vertical-align: top;\n    margin-bottom: -30px;\n  }\n  .CodeMirror-gutter-wrapper {\n    position: absolute;\n    z-index: 4;\n    background: none !important;\n    border: none !important;\n  }\n  .CodeMirror-gutter-background {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    z-index: 4;\n  }\n  .CodeMirror-gutter-elt {\n    position: absolute;\n    cursor: default;\n    z-index: 4;\n  }\n  .CodeMirror-gutter-wrapper ::selection {\n    background-color: transparent;\n  }\n  .CodeMirror-gutter-wrapper ::-moz-selection {\n    background-color: transparent;\n  }\n\n  .CodeMirror-lines {\n    cursor: text;\n    min-height: 1px; /* prevents collapsing before first draw */\n  }\n  .CodeMirror pre.CodeMirror-line,\n  .CodeMirror pre.CodeMirror-line-like {\n    /* Reset some styles that the rest of the page might have set */\n    -moz-border-radius: 0;\n    -webkit-border-radius: 0;\n    border-radius: 0;\n    border-width: 0;\n    background: transparent;\n    font-family: inherit;\n    font-size: inherit;\n    margin: 0;\n    white-space: pre;\n    word-wrap: normal;\n    line-height: inherit;\n    color: inherit;\n    z-index: 2;\n    position: relative;\n    overflow: visible;\n    -webkit-tap-highlight-color: transparent;\n    -webkit-font-variant-ligatures: contextual;\n    font-variant-ligatures: contextual;\n  }\n  .CodeMirror-wrap pre.CodeMirror-line,\n  .CodeMirror-wrap pre.CodeMirror-line-like {\n    word-wrap: break-word;\n    white-space: pre-wrap;\n    word-break: normal;\n  }\n\n  .CodeMirror-linebackground {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 0;\n  }\n\n  .CodeMirror-linewidget {\n    position: relative;\n    z-index: 2;\n    padding: 0.1px; /* Force widget margins to stay inside of the container */\n  }\n\n  .CodeMirror-widget {\n  }\n\n  .CodeMirror-rtl pre {\n    direction: rtl;\n  }\n\n  .CodeMirror-code {\n    outline: none;\n  }\n\n  /* Force content-box sizing for the elements where we expect it */\n  .CodeMirror-scroll,\n  .CodeMirror-sizer,\n  .CodeMirror-gutter,\n  .CodeMirror-gutters,\n  .CodeMirror-linenumber {\n    -moz-box-sizing: content-box;\n    box-sizing: content-box;\n  }\n\n  .CodeMirror-measure {\n    position: absolute;\n    width: 100%;\n    height: 0;\n    overflow: hidden;\n    visibility: hidden;\n  }\n\n  .CodeMirror-cursor {\n    position: absolute;\n    pointer-events: none;\n  }\n  .CodeMirror-measure pre {\n    position: static;\n  }\n\n  div.CodeMirror-cursors {\n    visibility: hidden;\n    position: relative;\n    z-index: 3;\n  }\n  div.CodeMirror-dragcursors {\n    visibility: visible;\n  }\n\n  .CodeMirror-focused div.CodeMirror-cursors {\n    visibility: visible;\n  }\n\n  .CodeMirror-selected {\n    background: #d9d9d9;\n  }\n  .CodeMirror-focused .CodeMirror-selected {\n    background: #d7d4f0;\n  }\n  .CodeMirror-crosshair {\n    cursor: crosshair;\n  }\n  .CodeMirror-line::selection,\n  .CodeMirror-line > span::selection,\n  .CodeMirror-line > span > span::selection {\n    background: #d7d4f0;\n  }\n  .CodeMirror-line::-moz-selection,\n  .CodeMirror-line > span::-moz-selection,\n  .CodeMirror-line > span > span::-moz-selection {\n    background: #d7d4f0;\n  }\n\n  .cm-searching {\n    background-color: #ffa;\n    background-color: rgba(255, 255, 0, 0.4);\n  }\n\n  /* Used to force a border model for a node */\n  .cm-force-border {\n    padding-right: 0.1px;\n  }\n\n  @media print {\n    /* Hide the cursor when printing */\n    .CodeMirror div.CodeMirror-cursors {\n      visibility: hidden;\n    }\n  }\n\n  /* See issue #2901 */\n  .cm-tab-wrap-hack:after {\n    content: '';\n  }\n\n  /* Help users use markselection to safely style text background */\n  span.CodeMirror-selectedtext {\n    background: none;\n  }\n"],["\n  white-space: pre-wrap;\n\n  .CodeMirror {\n    font-family: monospace;\n    height: auto;\n    width: 100%;\n    border-radius: 5px;\n    margin-bottom: 16px;\n    color: black;\n    direction: ltr;\n  }\n\n  .CodeMirror-lines {\n    padding: 4px 0; /* Vertical padding around content */\n  }\n  .CodeMirror pre.CodeMirror-line,\n  .CodeMirror pre.CodeMirror-line-like {\n    padding: 0 4px; /* Horizontal padding of content */\n  }\n\n  .CodeMirror-scrollbar-filler,\n  .CodeMirror-gutter-filler {\n    background-color: white; /* The little square between H and V scrollbars */\n  }\n\n  /* GUTTER */\n\n  .CodeMirror-gutters {\n    border-right: 1px solid #ddd;\n    background-color: #f7f7f7;\n    white-space: nowrap;\n  }\n  .CodeMirror-linenumbers {\n  }\n  .CodeMirror-linenumber {\n    padding: 0 3px 0 5px;\n    min-width: 20px;\n    text-align: right;\n    color: #999;\n    white-space: nowrap;\n  }\n\n  .CodeMirror-guttermarker {\n    color: black;\n  }\n  .CodeMirror-guttermarker-subtle {\n    color: #999;\n  }\n\n  /* CURSOR */\n\n  .CodeMirror-cursor {\n    border-left: 1px solid black;\n    border-right: none;\n    width: 0;\n  }\n  /* Shown when moving in bi-directional text */\n  .CodeMirror div.CodeMirror-secondarycursor {\n    border-left: 1px solid silver;\n  }\n  .cm-fat-cursor .CodeMirror-cursor {\n    width: auto;\n    border: 0 !important;\n    background: #7e7;\n  }\n  .cm-fat-cursor div.CodeMirror-cursors {\n    z-index: 1;\n  }\n  .cm-fat-cursor-mark {\n    background-color: rgba(20, 255, 20, 0.5);\n    -webkit-animation: blink 1.06s steps(1) infinite;\n    -moz-animation: blink 1.06s steps(1) infinite;\n    animation: blink 1.06s steps(1) infinite;\n  }\n  .cm-animate-fat-cursor {\n    width: auto;\n    border: 0;\n    -webkit-animation: blink 1.06s steps(1) infinite;\n    -moz-animation: blink 1.06s steps(1) infinite;\n    animation: blink 1.06s steps(1) infinite;\n    background-color: #7e7;\n  }\n  @-moz-keyframes blink {\n    0% {\n    }\n    50% {\n      background-color: transparent;\n    }\n    100% {\n    }\n  }\n  @-webkit-keyframes blink {\n    0% {\n    }\n    50% {\n      background-color: transparent;\n    }\n    100% {\n    }\n  }\n  @keyframes blink {\n    0% {\n    }\n    50% {\n      background-color: transparent;\n    }\n    100% {\n    }\n  }\n\n  /* Can style cursor different in overwrite (non-insert) mode */\n  .CodeMirror-overwrite .CodeMirror-cursor {\n  }\n\n  .cm-tab {\n    display: inline-block;\n    text-decoration: inherit;\n  }\n\n  .CodeMirror-rulers {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: -50px;\n    bottom: 0;\n    overflow: hidden;\n  }\n  .CodeMirror-ruler {\n    border-left: 1px solid #ccc;\n    top: 0;\n    bottom: 0;\n    position: absolute;\n  }\n\n  /* DEFAULT THEME */\n\n  .cm-s-default .cm-header {\n    color: blue;\n  }\n  .cm-s-default .cm-quote {\n    color: #090;\n  }\n  .cm-negative {\n    color: #d44;\n  }\n  .cm-positive {\n    color: #292;\n  }\n  .cm-header,\n  .cm-strong {\n    font-weight: bold;\n  }\n  .cm-em {\n    font-style: italic;\n  }\n  .cm-link {\n    text-decoration: underline;\n  }\n  .cm-strikethrough {\n    text-decoration: line-through;\n  }\n\n  .cm-s-default .cm-keyword {\n    color: #708;\n  }\n  .cm-s-default .cm-atom {\n    color: #219;\n  }\n  .cm-s-default .cm-number {\n    color: #164;\n  }\n  .cm-s-default .cm-def {\n    color: #00f;\n  }\n  .cm-s-default .cm-variable,\n  .cm-s-default .cm-punctuation,\n  .cm-s-default .cm-property,\n  .cm-s-default .cm-operator {\n  }\n  .cm-s-default .cm-variable-2 {\n    color: #05a;\n  }\n  .cm-s-default .cm-variable-3,\n  .cm-s-default .cm-type {\n    color: #085;\n  }\n  .cm-s-default .cm-comment {\n    color: #a50;\n  }\n  .cm-s-default .cm-string {\n    color: #a11;\n  }\n  .cm-s-default .cm-string-2 {\n    color: #f50;\n  }\n  .cm-s-default .cm-meta {\n    color: #555;\n  }\n  .cm-s-default .cm-qualifier {\n    color: #555;\n  }\n  .cm-s-default .cm-builtin {\n    color: #30a;\n  }\n  .cm-s-default .cm-bracket {\n    color: #997;\n  }\n  .cm-s-default .cm-tag {\n    color: #170;\n  }\n  .cm-s-default .cm-attribute {\n    color: #00c;\n  }\n  .cm-s-default .cm-hr {\n    color: #999;\n  }\n  .cm-s-default .cm-link {\n    color: #00c;\n  }\n\n  .cm-s-default .cm-error {\n    color: #f00;\n  }\n  .cm-invalidchar {\n    color: #f00;\n  }\n\n  .CodeMirror-composing {\n    border-bottom: 2px solid;\n  }\n\n  /* Default styles for common addons */\n\n  div.CodeMirror span.CodeMirror-matchingbracket {\n    color: #0b0;\n  }\n  div.CodeMirror span.CodeMirror-nonmatchingbracket {\n    color: #a22;\n  }\n  .CodeMirror-matchingtag {\n    background: rgba(255, 150, 0, 0.3);\n  }\n  .CodeMirror-activeline-background {\n    background: #e8f2ff;\n  }\n\n  /* STOP */\n\n  /* The rest of this file contains styles related to the mechanics of\n    the editor. You probably shouldn't touch them. */\n\n  .CodeMirror {\n    position: relative;\n    overflow: hidden;\n    background: white;\n  }\n\n  .CodeMirror-scroll {\n    overflow: scroll !important; /* Things will break if this is overridden */\n    /* 30px is the magic margin used to hide the element's real scrollbars */\n    /* See overflow: hidden in .CodeMirror */\n    margin-bottom: -30px;\n    margin-right: -30px;\n    padding-bottom: 30px;\n    height: 100%;\n    outline: none; /* Prevent dragging from highlighting the element */\n    position: relative;\n  }\n  .CodeMirror-sizer {\n    position: relative;\n    min-height: auto;\n    border-right: 30px solid transparent;\n  }\n\n  /* The fake, visible scrollbars. Used to force redraw during scrolling\n    before actual scrolling happens, thus preventing shaking and\n    flickering artifacts. */\n  .CodeMirror-vscrollbar,\n  .CodeMirror-hscrollbar,\n  .CodeMirror-scrollbar-filler,\n  .CodeMirror-gutter-filler {\n    position: absolute;\n    z-index: 6;\n    display: none;\n  }\n  .CodeMirror-vscrollbar {\n    right: 0;\n    top: 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n  }\n  .CodeMirror-hscrollbar {\n    bottom: 0;\n    left: 0;\n    overflow-y: hidden;\n    overflow-x: scroll;\n  }\n  .CodeMirror-scrollbar-filler {\n    right: 0;\n    bottom: 0;\n  }\n  .CodeMirror-gutter-filler {\n    left: 0;\n    bottom: 0;\n  }\n\n  .CodeMirror-gutters {\n    position: absolute;\n    left: 0;\n    top: 0;\n    min-height: 100%;\n    z-index: 3;\n  }\n  .CodeMirror-gutter {\n    white-space: normal;\n    height: 100%;\n    display: inline-block;\n    vertical-align: top;\n    margin-bottom: -30px;\n  }\n  .CodeMirror-gutter-wrapper {\n    position: absolute;\n    z-index: 4;\n    background: none !important;\n    border: none !important;\n  }\n  .CodeMirror-gutter-background {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    z-index: 4;\n  }\n  .CodeMirror-gutter-elt {\n    position: absolute;\n    cursor: default;\n    z-index: 4;\n  }\n  .CodeMirror-gutter-wrapper ::selection {\n    background-color: transparent;\n  }\n  .CodeMirror-gutter-wrapper ::-moz-selection {\n    background-color: transparent;\n  }\n\n  .CodeMirror-lines {\n    cursor: text;\n    min-height: 1px; /* prevents collapsing before first draw */\n  }\n  .CodeMirror pre.CodeMirror-line,\n  .CodeMirror pre.CodeMirror-line-like {\n    /* Reset some styles that the rest of the page might have set */\n    -moz-border-radius: 0;\n    -webkit-border-radius: 0;\n    border-radius: 0;\n    border-width: 0;\n    background: transparent;\n    font-family: inherit;\n    font-size: inherit;\n    margin: 0;\n    white-space: pre;\n    word-wrap: normal;\n    line-height: inherit;\n    color: inherit;\n    z-index: 2;\n    position: relative;\n    overflow: visible;\n    -webkit-tap-highlight-color: transparent;\n    -webkit-font-variant-ligatures: contextual;\n    font-variant-ligatures: contextual;\n  }\n  .CodeMirror-wrap pre.CodeMirror-line,\n  .CodeMirror-wrap pre.CodeMirror-line-like {\n    word-wrap: break-word;\n    white-space: pre-wrap;\n    word-break: normal;\n  }\n\n  .CodeMirror-linebackground {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 0;\n  }\n\n  .CodeMirror-linewidget {\n    position: relative;\n    z-index: 2;\n    padding: 0.1px; /* Force widget margins to stay inside of the container */\n  }\n\n  .CodeMirror-widget {\n  }\n\n  .CodeMirror-rtl pre {\n    direction: rtl;\n  }\n\n  .CodeMirror-code {\n    outline: none;\n  }\n\n  /* Force content-box sizing for the elements where we expect it */\n  .CodeMirror-scroll,\n  .CodeMirror-sizer,\n  .CodeMirror-gutter,\n  .CodeMirror-gutters,\n  .CodeMirror-linenumber {\n    -moz-box-sizing: content-box;\n    box-sizing: content-box;\n  }\n\n  .CodeMirror-measure {\n    position: absolute;\n    width: 100%;\n    height: 0;\n    overflow: hidden;\n    visibility: hidden;\n  }\n\n  .CodeMirror-cursor {\n    position: absolute;\n    pointer-events: none;\n  }\n  .CodeMirror-measure pre {\n    position: static;\n  }\n\n  div.CodeMirror-cursors {\n    visibility: hidden;\n    position: relative;\n    z-index: 3;\n  }\n  div.CodeMirror-dragcursors {\n    visibility: visible;\n  }\n\n  .CodeMirror-focused div.CodeMirror-cursors {\n    visibility: visible;\n  }\n\n  .CodeMirror-selected {\n    background: #d9d9d9;\n  }\n  .CodeMirror-focused .CodeMirror-selected {\n    background: #d7d4f0;\n  }\n  .CodeMirror-crosshair {\n    cursor: crosshair;\n  }\n  .CodeMirror-line::selection,\n  .CodeMirror-line > span::selection,\n  .CodeMirror-line > span > span::selection {\n    background: #d7d4f0;\n  }\n  .CodeMirror-line::-moz-selection,\n  .CodeMirror-line > span::-moz-selection,\n  .CodeMirror-line > span > span::-moz-selection {\n    background: #d7d4f0;\n  }\n\n  .cm-searching {\n    background-color: #ffa;\n    background-color: rgba(255, 255, 0, 0.4);\n  }\n\n  /* Used to force a border model for a node */\n  .cm-force-border {\n    padding-right: 0.1px;\n  }\n\n  @media print {\n    /* Hide the cursor when printing */\n    .CodeMirror div.CodeMirror-cursors {\n      visibility: hidden;\n    }\n  }\n\n  /* See issue #2901 */\n  .cm-tab-wrap-hack:after {\n    content: '';\n  }\n\n  /* Help users use markselection to safely style text background */\n  span.CodeMirror-selectedtext {\n    background: none;\n  }\n"])),Di=p.css(wi=wi||I(["\n  .ProseMirror .tinacms-image-wrapper {\n    display: inline-block;\n    margin: 1em 0;\n  }\n\n  ","\n"],["\n  .ProseMirror .tinacms-image-wrapper {\n    display: inline-block;\n    margin: 1em 0;\n  }\n\n  ","\n"]),"\n  .ProseMirror {\n    display: block\n  }\n  .ProseMirror .tableWrapper {\n    overflow-x: auto;\n  }\n  .ProseMirror .column-resize-handle {\n    position: absolute;\n    right: -2px;\n    top: 0;\n    bottom: 0;\n    width: 4px;\n    z-index: 20;\n    background-color: #adf;\n    pointer-events: none;\n  }\n  .ProseMirror.resize-cursor {\n    cursor: ew-resize;\n    cursor: col-resize;\n  }\n  /* Give selected cells a blue overlay */\n  .ProseMirror .selectedCell:after {\n    z-index: 2;\n    position: absolute;\n    content: '';\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: rgba(0, 132, 255, 0.25);\n    /* This provides a bullet-proof border for selected cells even with border collapsing */\n    box-shadow: 0 0 0 1px #0574E4;\n    pointer-events: none;\n  }\n  .ProseMirror:focus {\n    outline: 0px solid transparent;\n  }\n  .ProseMirror p {\n    min-height: 18px;\n  }\n  .ProseMirror table {\n    border-collapse: collapse;\n    table-layout: fixed;\n    display: inline-table;\n    margin: 32px 0 32px 0;\n    overflow: visible;\n    width: 100%;\n  }\n  .ProseMirror th {\n    background-color: #F6F6F9;\n  }\n  .ProseMirror tr {\n    height: 40px;\n  }\n  .ProseMirror table td,\n  .ProseMirror table th {\n    border: 1px solid #E1DDEC;\n    padding: 6px 8px;\n    position: relative;\n    vertical-align: top;\n    box-sizing: border-box;\n  }\n  .ProseMirror .tina_table_header_ext_top {\n    background: #F6F6F9;\n    border: 1px solid #E1DDEC;\n    position: absolute;\n    height: 12px;\n    width: calc(100% + 2px);\n    transform: translate(-9px, -18px);\n    cursor: pointer;\n    z-index: 1;\n    user-select: none;\n    box-sizing: border-box;\n  }\n  .ProseMirror div.tina_table_header_ext_top_selected {\n    background: #0084ff;\n    border-color: #0574E4;\n    z-index: 10;\n  }\n  .ProseMirror .tina_table_header_ext_left {\n    background: #F6F6F9;\n    border: 1px solid #E1DDEC;\n    position: absolute;\n    height: calc(100% + 2px);\n    width: 12px;\n    transform: translate(-20px, -7px);\n    cursor: pointer;\n    z-index: 1;\n    user-select: none;\n    box-sizing: border-box;\n  }\n  .ProseMirror div.tina_table_header_ext_left_selected {\n    background: #0084ff;\n    border-color: #0574E4;\n    z-index: 10;\n  }\n  .ProseMirror .tina_table_header_ext_top_left {\n    background: #F6F6F9;\n    border: 1px solid #E1DDEC;\n    position: absolute;\n    height: 12px;\n    width: 12px;\n    transform: translate(-20px, -18px);\n    border-radius: 5px 0 0 0;\n    z-index: 1;\n    cursor: pointer;\n    user-select: none;\n    box-sizing: border-box;\n  }\n  .ProseMirror div.tina_table_header_ext_top_left_selected {\n    background: #0084ff;\n    border-color: #0574E4;\n    z-index: 10;\n  }\n  .ProseMirror .selectedCell {\n    border-color: transparent;\n  }\n"),Fi=Z((function(c){var u=c.input,p=c.plugins,f=c.sticky,m=c.format,h=c.imageProps,g=_(c,["input","plugins","sticky","format","imageProps"]),b=d.useRef(null),w=d.useState(),k=w[0],x=w[1],y=d.useState(),F=y[0],W=y[1],R=A().browserFocused;return d.useEffect((function(){var c=Co(u,b.current,x,h,m).translator;return W(c),function(){k&&k.view.destroy()}}),[b]),d.useEffect((function(){var c=k&&k.view,d=document.getElementsByClassName("ProseMirror")[0];!c||(d===document.activeElement||d.contains(document.activeElement))&&R||function(c,d,u){var p=d.nodeFromString(u);if(p){var f=c.state,m=c.dispatch,h=f.tr;m(h.setSelection(new v.TextSelection(h.doc.resolve(0),h.doc.resolve(f.doc.nodeSize-2))).replaceSelectionWith(p).setMeta("input-update",!0))}}(c,F,u.value)}),[u.value]),d.createElement(Wi,{className:"wysiwyg-wrapper","data-testid":"wysiwyg-editor"},d.createElement("link",{rel:"stylesheet",href:"https://codemirror.net/lib/codemirror.css"}),d.createElement(O,{translator:F,editorView:k},d.createElement(Ao,{sticky:f,imageProps:h,plugins:p})),d.createElement("div",sn({},g,{ref:b})))})).withConfig({displayName:"ProsemirrorEditor",componentId:"sc-27umon"})(ki=ki||I(["\n  ","","\n"],["\n  ","","\n"]),Oi,Di),Wi=Z.div.withConfig({displayName:"WysiwygWrapper",componentId:"sc-1cnn32z"})(xi=xi||I(["\n  position: relative;\n"],["\n  position: relative;\n"])),Ri={name:"wysiwygModeToggle",MenuItem:function MenuItem(){return d.createElement(L,null)}},Bi=Z.div.withConfig({displayName:"Wrapper",componentId:"sc-1n8hsxx"})(yi=yi||I(["\n  display: block;\n  min-height: 100px;\n"],["\n  display: block;\n  min-height: 100px;\n"])),$i="rgb(200, 200, 200)",Hi="rgb(40, 40, 40)";function hi(c){return J.wrapFieldsWithMeta(Z(c)(Ci=Ci||I(["\n    position: relative;\n\n    > [contenteditable] {\n      ","\n      overflow: auto;\n      -webkit-overflow-scrolling: touch;\n      min-height: 200px;\n      max-height: 500px;\n      overflow-y: auto;\n      display: block;\n\n      ::selection {\n        background-color: rgba(0, 132, 255, 0.3);\n      }\n\n      div::selection {\n        background: rgba(0, 0, 0, 0);\n      }\n\n      div[contenteditable] {\n        display: inline-block;\n      }\n\n      > *:first-child {\n        margin-top: 0;\n      }\n\n      > *:last-child {\n        margin-bottom: 0;\n      }\n    }\n\n    color: ",";\n    background-color: #fff;\n    font-size: 16px;\n    line-height: 26px;\n    white-space: pre-wrap;\n    -webkit-font-smoothing: antialiased;\n    text-shadow: none;\n    font-weight: 400;\n    cursor: auto;\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n    border-radius: var(--tina-radius-small);\n\n    p {\n      font-size: 16px;\n      line-height: 26px;\n      font-weight: normal;\n    }\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      font-weight: 600;\n      text-transform: none;\n      padding: 0;\n      margin-bottom: 16px;\n    }\n\n    h1 {\n      font-size: 40px;\n      line-height: 48px;\n      margin-top: 0;\n      &:not(:first-child) {\n        margin-top: 32px;\n      }\n    }\n\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      &:not(:first-child) {\n        margin-top: 21px;\n      }\n    }\n\n    h2 {\n      font-size: 34px;\n      line-height: 38px;\n      margin-top: 0;\n    }\n\n    h3 {\n      font-size: 26px;\n      line-height: 30px;\n      margin-top: 0;\n    }\n\n    h4 {\n      font-size: 21px;\n      line-height: 28px;\n      margin-top: 0;\n    }\n\n    h5 {\n      font-size: 18px;\n      line-height: 24px;\n      margin-top: 0;\n    }\n\n    h6 {\n      font-size: 16px;\n      line-height: 20px;\n      margin-top: 0;\n    }\n\n    a {\n      color: #0084ff;\n      border: 0;\n      font-weight: normal;\n      text-decoration: underline;\n    }\n\n    small {\n      font-size: 0.707em;\n    }\n\n    ul,\n    ol {\n      margin: 0;\n      padding: 0;\n    }\n\n    ol li {\n      /* prevent 2-digits numbers from being cut-off */\n      margin-left: 5px;\n      margin-right: 5px;\n    }\n\n    ul {\n      margin-left: 1.5em;\n      margin-bottom: 16px;\n      list-style-type: disc;\n      list-style-position: outside;\n      list-style-image: none;\n    }\n\n    ol {\n      margin-left: 1.25em;\n      margin-bottom: 16px;\n      list-style-type: decimal;\n    }\n\n    li {\n      list-style: inherit;\n      ol,\n      ul {\n        margin-bottom: 0;\n      }\n    }\n\n    code {\n      font-family: 'Roboto Mono', monospace;\n      font-size: 14px;\n      background: rgba(53, 50, 50, 0.08);\n      padding: 0.1em 0.25em;\n    }\n\n    pre {\n      padding: 0;\n      margin: 0;\n    }\n\n    pre > code {\n      display: block;\n      padding: 0.15em 0.6em;\n    }\n\n    img {\n      max-width: 100%;\n      border: 0;\n      padding: 0;\n      margin-bottom: 16px;\n    }\n\n    hr {\n      display: block;\n      height: 1px;\n      width: 100%;\n      border: 0;\n      background: ",";\n      margin: 16px 0;\n    }\n\n    blockquote {\n      margin: 0 0 16px 0;\n      border-left: 2px solid ",";\n      padding-left: 15px;\n    }\n\n    mark {\n      color: ",";\n      background-color: #ffe9a8;\n      padding: 0.1em 0.25em;\n    }\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      position: relative;\n      &:before {\n        font-size: 14px;\n        text-align: left;\n        font-weight: var(--tina-font-weight-regular);\n        color: ",";\n        position: absolute;\n        left: -35px;\n        width: 30px;\n        cursor: pointer;\n        transition: color 0.25s ease;\n      }\n      &:hover:before {\n        color: ",";\n      }\n    }\n\n    blockquote {\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        &:before {\n          display: none;\n        }\n      }\n    }\n  "],["\n    position: relative;\n\n    > [contenteditable] {\n      ","\n      overflow: auto;\n      -webkit-overflow-scrolling: touch;\n      min-height: 200px;\n      max-height: 500px;\n      overflow-y: auto;\n      display: block;\n\n      ::selection {\n        background-color: rgba(0, 132, 255, 0.3);\n      }\n\n      div::selection {\n        background: rgba(0, 0, 0, 0);\n      }\n\n      div[contenteditable] {\n        display: inline-block;\n      }\n\n      > *:first-child {\n        margin-top: 0;\n      }\n\n      > *:last-child {\n        margin-bottom: 0;\n      }\n    }\n\n    color: ",";\n    background-color: #fff;\n    font-size: 16px;\n    line-height: 26px;\n    white-space: pre-wrap;\n    -webkit-font-smoothing: antialiased;\n    text-shadow: none;\n    font-weight: 400;\n    cursor: auto;\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n    border-radius: var(--tina-radius-small);\n\n    p {\n      font-size: 16px;\n      line-height: 26px;\n      font-weight: normal;\n    }\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      font-weight: 600;\n      text-transform: none;\n      padding: 0;\n      margin-bottom: 16px;\n    }\n\n    h1 {\n      font-size: 40px;\n      line-height: 48px;\n      margin-top: 0;\n      &:not(:first-child) {\n        margin-top: 32px;\n      }\n    }\n\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      &:not(:first-child) {\n        margin-top: 21px;\n      }\n    }\n\n    h2 {\n      font-size: 34px;\n      line-height: 38px;\n      margin-top: 0;\n    }\n\n    h3 {\n      font-size: 26px;\n      line-height: 30px;\n      margin-top: 0;\n    }\n\n    h4 {\n      font-size: 21px;\n      line-height: 28px;\n      margin-top: 0;\n    }\n\n    h5 {\n      font-size: 18px;\n      line-height: 24px;\n      margin-top: 0;\n    }\n\n    h6 {\n      font-size: 16px;\n      line-height: 20px;\n      margin-top: 0;\n    }\n\n    a {\n      color: #0084ff;\n      border: 0;\n      font-weight: normal;\n      text-decoration: underline;\n    }\n\n    small {\n      font-size: 0.707em;\n    }\n\n    ul,\n    ol {\n      margin: 0;\n      padding: 0;\n    }\n\n    ol li {\n      /* prevent 2-digits numbers from being cut-off */\n      margin-left: 5px;\n      margin-right: 5px;\n    }\n\n    ul {\n      margin-left: 1.5em;\n      margin-bottom: 16px;\n      list-style-type: disc;\n      list-style-position: outside;\n      list-style-image: none;\n    }\n\n    ol {\n      margin-left: 1.25em;\n      margin-bottom: 16px;\n      list-style-type: decimal;\n    }\n\n    li {\n      list-style: inherit;\n      ol,\n      ul {\n        margin-bottom: 0;\n      }\n    }\n\n    code {\n      font-family: 'Roboto Mono', monospace;\n      font-size: 14px;\n      background: rgba(53, 50, 50, 0.08);\n      padding: 0.1em 0.25em;\n    }\n\n    pre {\n      padding: 0;\n      margin: 0;\n    }\n\n    pre > code {\n      display: block;\n      padding: 0.15em 0.6em;\n    }\n\n    img {\n      max-width: 100%;\n      border: 0;\n      padding: 0;\n      margin-bottom: 16px;\n    }\n\n    hr {\n      display: block;\n      height: 1px;\n      width: 100%;\n      border: 0;\n      background: ",";\n      margin: 16px 0;\n    }\n\n    blockquote {\n      margin: 0 0 16px 0;\n      border-left: 2px solid ",";\n      padding-left: 15px;\n    }\n\n    mark {\n      color: ",";\n      background-color: #ffe9a8;\n      padding: 0.1em 0.25em;\n    }\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      position: relative;\n      &:before {\n        font-size: 14px;\n        text-align: left;\n        font-weight: var(--tina-font-weight-regular);\n        color: ",";\n        position: absolute;\n        left: -35px;\n        width: 30px;\n        cursor: pointer;\n        transition: color 0.25s ease;\n      }\n      &:hover:before {\n        color: ",";\n      }\n    }\n\n    blockquote {\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        &:before {\n          display: none;\n        }\n      }\n    }\n  "]),J.InputCss,Hi,$i,$i,Hi,$i,Hi))}var Vi={__type:"field",name:"html",Component:hi((function(c){return Y.createElement(To,sn({},c,{sticky:!1,format:"html",imageProps:c.field.imageProps}))})),parse:function parse(c){return c||""}},qi={__type:"field",name:"markdown",Component:hi((function(c){return Y.createElement(To,sn({},c,{sticky:!1,format:"markdown",imageProps:c.field.imageProps}))})),parse:function parse(c){return c||""}};c.HtmlFieldPlugin=Vi,c.InlineWysiwyg=function(c){var u=c.name,p=c.children,m=c.focusRing,h=void 0===m||m,g=c.imageProps,b=_(c,["name","children","focusRing","imageProps"]);return f.useCMS().disabled?p:d.createElement(X.InlineField,{name:u},(function(c){var u=c.input,f=c.form;return d.createElement(X.FocusRing,{name:u.name,options:h},(function(c){return c?d.createElement(To,sn({input:u,imageProps:g,form:f},b)):p}))}))},c.MarkdownFieldPlugin=qi,c.Wysiwyg=To,Object.defineProperty(c,"__esModule",{value:!0})}(d,u(67294),u(50009),u(55863),u(75230),u(262),u(82970),u(73935),u(90471),u(73868),u(23357),u(86343),u(60020),u(25560),u(935),u(34021),u(61449),u(71929),u(51634),u(89974),u(8627),u(59279),u(76157),u(78962),u(5955))}}]);
//# sourceMappingURL=b1a1d170-b5a715b94933d41af177.js.map