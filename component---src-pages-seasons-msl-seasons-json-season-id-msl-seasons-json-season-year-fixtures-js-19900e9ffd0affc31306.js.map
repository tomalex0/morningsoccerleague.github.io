{"version":3,"sources":["webpack:///./src/graphql/lib/utility.js","webpack:///./src/components/msl/fixture-item.js","webpack:///./src/pages/seasons/{MslSeasonsJson.season_id}-{MslSeasonsJson.season_year}/fixtures.js"],"names":["exports","predicate","field","name","cmp","fields","n_fields","arguments","length","default_cmp","a","b","getCmpFunc","primer","reverse","dfc","i","push","A","B","result","propComparator","sortBy","direction","toString","getTotalChildArr","itemArr","prop","sum","map","item","groupBy","xs","key","reduce","rv","x","getSum","data","getDefaultScore","played","won","lost","draw","goal_allowed","goal_scored","jsonArrayColumnSum","jsonArr","propArr","sums","obj","Object","keys","s","k","getInitials","str","size","split","n","slice","join","formatDateString","val","locale","dateVal","replace","Date","toLocaleDateString","weekday","year","month","day","MslFixtureItem","fixture","className","home","team","teamName","src","image","publicURL","goals","away","FixturesIndexPage","props","path","pageContext","fixtures","season","schedules","sortdate","scheduled_date","sort","fixtureGroup","title","season_id","season_year","console","log","dateval"],"mappings":"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","file":"component---src-pages-seasons-msl-seasons-json-season-id-msl-seasons-json-season-year-fixtures-js-19900e9ffd0affc31306.js","sourcesContent":["/**\n * Generic\n * @returns {function(*, *): *}\n */\nfunction predicate() {\n  var fields = [],\n    n_fields = arguments.length,\n    field,\n    name,\n    reverse,\n    cmp\n\n  var default_cmp = function (a, b) {\n      if (a === b) return 0\n      return a < b ? -1 : 1\n    },\n    getCmpFunc = function (primer, reverse) {\n      var dfc = default_cmp,\n        // closer in scope\n        cmp = default_cmp\n      if (primer) {\n        cmp = function (a, b) {\n          return dfc(primer(a), primer(b))\n        }\n      }\n      if (reverse) {\n        return function (a, b) {\n          return -1 * cmp(a, b)\n        }\n      }\n      return cmp\n    }\n\n  // preprocess sorting options\n  for (var i = 0; i < n_fields; i++) {\n    field = arguments[i]\n    if (typeof field === \"string\") {\n      name = field\n      cmp = default_cmp\n    } else {\n      name = field.name\n      cmp = getCmpFunc(field.primer, field.reverse)\n    }\n    fields.push({\n      name: name,\n      cmp: cmp,\n    })\n  }\n\n  // final comparison function\n  return function (A, B) {\n    var a, b, name, result\n    for (var i = 0; i < n_fields; i++) {\n      result = 0\n      field = fields[i]\n      name = field.name\n\n      result = field.cmp(A[name], B[name])\n      if (result !== 0) break\n    }\n    return result\n  }\n}\n\nexports.predicate = predicate\n\n/**\n * Another json arryy sort, less performant than predicate\n * @param sortBy\n * @returns {function(*, *): number}\n */\nfunction propComparator(sortBy) {\n  return function (a, b) {\n    let i = 0,\n      result = 0\n    while (i < sortBy.length && result === 0) {\n      result =\n        sortBy[i].direction *\n        (a[sortBy[i].name].toString() < b[sortBy[i].name].toString()\n          ? -1\n          : a[sortBy[i].name].toString() > b[sortBy[i].name].toString()\n          ? 1\n          : 0)\n      i++\n    }\n    return result\n  }\n}\nexports.propComparator = propComparator\n\n/**\n * Generic\n * @param itemArr\n * @param prop\n * @returns {number}\n */\nfunction getTotalChildArr(itemArr, prop) {\n  let sum = 0\n  itemArr.map(item => {\n    sum += item[prop].length\n  })\n  return sum\n}\n\nexports.getTotalChildArr = getTotalChildArr\n\n/**\n * Generic\n * @param xs\n * @param key\n * @returns {*}\n */\nconst groupBy = function (xs, key) {\n  return xs.reduce(function (rv, x) {\n    ;(rv[x[key]] = rv[x[key]] || []).push(x)\n    return rv\n  }, {})\n}\nexports.groupBy = groupBy\n\n/**\n * Generic\n * @param data\n * @param key\n * @returns {*}\n */\nfunction getSum(data, key) {\n  return data.reduce(function (sum, item) {\n    return sum + item[key]\n  }, 0)\n}\nexports.getSum = getSum\n\nfunction getDefaultScore() {\n  var defaultScore = {\n    played: 0,\n    won: 0,\n    lost: 0,\n    draw: 0,\n    goal_allowed: 0,\n    goal_scored: 0,\n  }\n\n  return defaultScore\n}\nexports.getDefaultScore = getDefaultScore\n\nfunction jsonArrayColumnSum(jsonArr, propArr) {\n  return jsonArr.reduce(\n    (sums, obj) =>\n      Object.keys(obj).reduce((s, k) => {\n        k === \"id\" || (s[k] = (s[k] || 0) + +obj[k])\n        return s\n      }, sums),\n    {}\n  )\n}\n\nexports.jsonArrayColumnSum = jsonArrayColumnSum\n\nfunction getInitials(str, size = 2) {\n  return str\n    .split(\" \")\n    .map(n => n[0])\n    .slice(0, size)\n    .join(\"\")\n}\nexports.getInitials = getInitials\n\nfunction formatDateString(val, locale = \"en\") {\n  // fix this craziness https://stackoverflow.com/a/31732581\n  const dateVal = val.replace(/-/g, \"/\")\n  return new Date(dateVal).toLocaleDateString(locale, {\n    weekday: \"long\",\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  })\n}\n\nexports.formatDateString = formatDateString\n","import { Link } from \"gatsby\"\nimport React from \"react\"\n\nconst MslFixtureItem = ({ fixture }) => {\n  return (\n    <div className=\"flex space-x-0 rounded-b-md text-gray dark:text-white\">\n      <div className=\"flex-grow space-x-1  flex-shrink-0 w-16 bg-purple-500  text-xs md:text-base font-extrabold flex items-center justify-center\">\n        <div className=\"flex-grow h-16 rounded-md  font-extrabold flex items-center justify-end pl-2\">\n          {fixture?.home?.team?.teamName}\n        </div>\n        <div className=\"flex-none w-8 md:w-16  text-lg font-extrabold flex items-center justify-center\">\n          <img\n            src={fixture?.home?.team?.image?.publicURL}\n            className=\"w-6 md:w-12 mr-1 \"\n          />\n        </div>\n      </div>\n      <div className=\"flex-shrink flex-shrink-0 w-10 md:w-12 bg-amber-800  font-extrabold flex items-center justify-center\">\n        {fixture?.home?.goals?.length}\n      </div>\n      <div className=\"flex-shrink flex-shrink-0 w-3 bg-amber-600 font-extrabold flex items-center justify-center\">\n        -\n      </div>\n      <div className=\"flex-shrink flex-shrink-0 w-10 md:w-12 bg-amber-800 font-extrabold flex items-center justify-center\">\n        {fixture?.away?.goals?.length}\n      </div>\n      <div className=\"flex-grow space-x-1 flex-shrink-0 w-16 bg-purple-500  text-xs md:text-base font-extrabold flex items-center justify-center\">\n        <div className=\"flex-none w-8 md:w-16 h-16 text-lg font-extrabold flex items-center justify-center\">\n          <img\n            src={fixture?.away?.team?.image?.publicURL}\n            className=\"w-6 md:w-12 mr-1 \"\n          />\n        </div>\n        <div className=\"flex-grow h-16 rounded-md   font-extrabold flex items-center justify-start pr-2\">\n          {fixture?.away?.team?.teamName}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default MslFixtureItem\n","import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\n\nimport Layout from \"components/layout\"\nimport { groupBy, formatDateString } from \"graphql/lib/utility\"\n\nimport SEO from \"components/seo\"\nimport MslFixtureItem from \"components/msl/fixture-item\"\nimport {\n  MslPlayersJsonFragment,\n  MslTeamsJsonFragment,\n  MslSeasonsJsonFragment,\n} from \"data/fragments\"\n\nconst FixturesIndexPage = props => {\n  // console.log(props)\n  const path = props.path\n  const pageContext = props.pageContext\n  const fixtures = props.data.season.schedules\n    .map(item => ({ ...item, sortdate: new Date(item.scheduled_date) }))\n    .sort((a, b) => a.sortdate - b.sortdate)\n\n  const fixtureGroup = groupBy(fixtures, \"scheduled_date\")\n\n  return (\n    <Layout>\n      <SEO\n        title={`Fixtures ${pageContext.season_id}-${pageContext.season_year}`}\n        path={path}\n      />\n      <h1>\n        Hi Fixtures {pageContext.season_id}-{pageContext.season_year}\n      </h1>\n      <div>\n        {Object.keys(fixtureGroup).map(item => {\n          console.log(item, \"--343--\")\n          const dateval = formatDateString(`${item}`)\n          return (\n            <div className=\"board-row\">\n              <h1>{dateval}</h1>\n              {fixtureGroup[item].map(fixture => {\n                return <MslFixtureItem fixture={fixture} />\n              })}\n            </div>\n          )\n        })}\n      </div>\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query($id: String) {\n    season: mslSeasonsJson(id: { eq: $id }) {\n      ...MslSeasonsJsonStatsFragment\n    }\n  }\n`\n\nexport default FixturesIndexPage\n"],"sourceRoot":""}